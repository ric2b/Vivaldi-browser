# Copyright (c) 2020 Vivaldi Technologies AS. All rights reserved

update_target("//chrome/renderer:renderer") {
  sources += [
    "//vivaldi/renderer/vivaldi_frame_service_impl.cc",
    "//vivaldi/renderer/vivaldi_frame_service_impl.h",
    "//vivaldi/renderer/vivaldi_render_frame_blink_proxy_impl.cc",
    "//vivaldi/renderer/vivaldi_render_frame_blink_proxy_impl.h",
    "//vivaldi/renderer/blink/vivaldi_spatnav_quad.cc",
    "//vivaldi/renderer/blink/vivaldi_spatnav_quad.h",
    "//vivaldi/renderer/blink/vivaldi_spatial_navigation_controller.cc",
    "//vivaldi/renderer/blink/vivaldi_spatial_navigation_controller.h",
  ]
  cflags = [
    "-Wno-implicit-const-int-float-conversion",
  ]
}

update_template_instance("//third_party/blink/renderer/core:core") {
  sources += [
    "//vivaldi/renderer/blink/vivaldi_render_frame_blink_proxy.cc",
    "//vivaldi/renderer/blink/vivaldi_render_frame_blink_proxy.h",
    "//vivaldi/renderer/blink/vivaldi_snapshot_page.cc",
    "//vivaldi/renderer/blink/vivaldi_snapshot_page.h",
    "//vivaldi/renderer/blink/vivaldi_spatial_navigation.cc",
    "//vivaldi/renderer/blink/vivaldi_spatial_navigation.h",
    "//vivaldi/renderer/blink/vivaldi_autoplay_policy.cc",
  ]
  public_deps += [
    "//vivaldi/renderer/mojo:frame_host_service_blink",
    "//vivaldi/components/request_filter/adblock_filter/mojom:mojom_blink",
  ]
  cflags = [
    "-Wno-implicit-const-int-float-conversion",
  ]
}

update_template_instance("//third_party/blink/renderer/modules/mediastream:mediastream") {
  sources += [
    "//vivaldi/renderer/blink/vivaldi_web_media_player_ms.cc",
  ]
}
