---
breadcrumbs:
- - /developers
  - For Developers
- - /developers/design-documents
  - Design Documents
- - /developers/design-documents/sync
  - Sync
page_name: integration-checklist
title: Sync Integration Checklist
---

If you want to integrate with our infrastructure, please follow these steps:

0. Before starting any integration work, please reach out to us at
    chrome-sync-dev@google.com and share your plans / design doc! The Chrome
    Sync team will assign you a "champion" (primary contact person) to review
    your designs and code. If you're a Googler, please also file a bug via
    [go/create-new-sync-data-type-bug][create-new-sync-data-type-bug]
1. <b>[NEW!] For CL #1, run components/sync/bootstrap_new_data_type.sh.</b>
    Given the data type name, this will generate a CL with a scaffold of the
    implementation and TODOs for what to do on the N-th CL. The next steps are
    listed below for completeness. After submitting this CL, there will be some
    server-side steps required, which should be discussed in the bug created
    above.
2. Fill out the *_specifics.proto file generated by the script in CL #1.
3. If your type should be controlled by an existing toggle in sync settings, add
    it to [`GetUserSelectableTypeInfo`][GetUserSelectableTypeInfo]. Otherwise,
    if the new type should have its own toggle, add an entry to the
    [`UserSelectableType`][UserSelectableType] enum, add a
    [preference][pref_names] for tracking whether the type is enabled, and map
    the type to the pref in [`GetPrefNameForType`][GetPrefName]. Add the toggle
    UI for each supported platform:
    * [Desktop][toggles_desktop]
    * [Android][toggles_android]
    * [iOS][toggles_ios]
4. Register a [`DataTypeController`][DataTypeController] in
    [`CommonControllerBuilder`][CommonControllerBuilder] or platform-specific
    equivalent in the //chrome or //ios implementations of
    [`SyncClient::CreateDataTypeControllers`][CreateDataTypeControllers].
    Use a trivial implementation of [`DataTypeSyncBridge`][Bridge] for now.
    *   Add the sync team as co-owners of the bridge (and any associated
        helpers, if appropriate), by adding something like
        `per-file *sync_bridge*=file://components/sync/OWNERS` to your
        OWNERS file. This allows us to do refactorings that touch all the
        bridges without needing reviews from tens of owners.
5. Over multiple CLs, implement the actual data type logic in the bridge.
6. Write some [integration tests](../model-api/#automated-testing).
7. While rolling out your new data type, keep the Sync team in the loop! E.g.
    CC your assigned champion on all Finch CLs.
8. If you're a Googler, please fill out [go/sync-integration-feedback][sync-integration-feedback].

[create-new-sync-data-type-bug]: http://go/create-new-sync-data-type-bug
[protocol]: https://cs.chromium.org/chromium/src/components/sync/protocol/
[DataType]: https://cs.chromium.org/chromium/src/components/sync/base/data_type.h
[info_map]: https://cs.chromium.org/search/?q="kDataTypeInfoMap%5B%5D"+file:data_type.cc
[conversions]: https://cs.chromium.org/chromium/src/components/sync/protocol/proto_value_conversions.h
[EntitySpecifics]: https://source.chromium.org/chromium/chromium/src/+/main:components/sync/protocol/entity_specifics.proto
[DataTypeController]: https://cs.chromium.org/chromium/src/components/sync/service/data_type_controller.h
[CommonControllerBuilder ]: https://source.chromium.org/chromium/chromium/src/+/main:components/browser_sync/common_controller_builder.h
[CreateDataTypeControllers]: https://cs.chromium.org/search/?q="SyncClient::CreateDataTypeControllers"
[SyncServiceFactory]: https://cs.chromium.org/search/?q=:SyncServiceFactory%5C(%5C)
[Bridge]: https://source.chromium.org/search?q=DataTypeSyncBridge
[NigoriSpecifics]: https://cs.chromium.org/chromium/src/components/sync/protocol/nigori_specifics.proto
[UserSelectableType]: https://cs.chromium.org/chromium/src/components/sync/base/user_selectable_type.h?type=cs&q="enum+class+UserSelectableType"
[pref_names]: https://cs.chromium.org/chromium/src/components/sync/base/pref_names.h
[GetPrefName]: https://cs.chromium.org/search/?q=GetPrefNameForType+file:sync_prefs.cc
[toggles_desktop]: https://source.chromium.org/chromium/chromium/src/+/main:chrome/browser/resources/settings/people_page/sync_controls.html
[toggles_android]: https://source.chromium.org/chromium/chromium/src/+/main:chrome/android/java/src/org/chromium/chrome/browser/sync/settings/ManageSyncSettings.java
[toggles_ios]: https://source.chromium.org/chromium/chromium/src/+/main:ios/chrome/browser/ui/settings/google_services/manage_sync_settings_mediator.mm
[GetUserSelectableTypeInfo]: https://cs.chromium.org/chromium/src/components/sync/base/user_selectable_type.cc?type=cs&q="UserSelectableTypeInfo+GetUserSelectableTypeInfo"+f:components/sync/base/user_selectable_type.cc
[enums]: https://source.chromium.org/chromium/chromium/src/+/main:tools/metrics/histograms/metadata/sync/enums.xml
[histograms]: https://source.chromium.org/chromium/chromium/src/+/main:tools/metrics/histograms/metadata/sync/histograms.xml
[DataTypeHistogram]: https://cs.chromium.org/chromium/src/components/sync/base/data_type_histogram.h
[sync-integration-feedback]: http://go/sync-integration-feedback
[data-type-static-asserts]: https://source.chromium.org/search?q=f:%2Fsync%2F%20static_assert.*DataType%20-f:(%5Eout)&ss=chromium%2Fchromium%2Fsrc
