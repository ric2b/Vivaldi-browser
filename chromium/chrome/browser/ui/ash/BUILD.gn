# Copyright 2024 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chromeos/ui_mode.gni")

assert(is_chromeos_ash)

static_library("ash") {
  sources = [
    "app_access_notifier.cc",
    "app_access_notifier.h",
    "app_icon_color_cache.cc",
    "app_icon_color_cache.h",
    "arc_custom_tab_modal_dialog_host.cc",
    "arc_custom_tab_modal_dialog_host.h",
    "arc_open_url_delegate_impl.cc",
    "arc_open_url_delegate_impl.h",
    "arc_vm_data_migration_confirmation_dialog.cc",
    "arc_vm_data_migration_confirmation_dialog.h",
    "ash_shell_init.cc",
    "ash_shell_init.h",
    "ash_util.cc",
    "ash_util.h",
    "ash_web_view_factory_impl.cc",
    "ash_web_view_factory_impl.h",
    "ash_web_view_impl.cc",
    "ash_web_view_impl.h",
    "back_gesture_contextual_nudge_delegate.cc",
    "back_gesture_contextual_nudge_delegate.h",
    "browser_data_migration_error_dialog.cc",
    "browser_data_migration_error_dialog.h",
    "cast_config_controller_media_router.cc",
    "cast_config_controller_media_router.h",
    "chrome_accelerator_prefs_delegate.cc",
    "chrome_accelerator_prefs_delegate.h",
    "chrome_accessibility_delegate.cc",
    "chrome_accessibility_delegate.h",
    "chrome_browser_main_extra_parts_ash.cc",
    "chrome_browser_main_extra_parts_ash.h",
    "chrome_new_window_client.cc",
    "chrome_new_window_client.h",
    "chrome_new_window_delegate_provider.cc",
    "chrome_new_window_delegate_provider.h",
    "chrome_shell_delegate.cc",
    "chrome_shell_delegate.h",
    "clipboard_history_controller_delegate_impl.cc",
    "clipboard_history_controller_delegate_impl.h",
    "clipboard_history_url_title_fetcher_impl.cc",
    "clipboard_history_url_title_fetcher_impl.h",
    "clipboard_image_model_factory_impl.cc",
    "clipboard_image_model_factory_impl.h",
    "clipboard_image_model_request.cc",
    "clipboard_image_model_request.h",
    "clipboard_util.cc",
    "clipboard_util.h",
    "crosapi_new_window_delegate.cc",
    "crosapi_new_window_delegate.h",
    "default_pinned_apps.cc",
    "default_pinned_apps.h",
    "fwupd_download_client_impl.cc",
    "fwupd_download_client_impl.h",
    "google_one_offer_iph_tab_helper.cc",
    "google_one_offer_iph_tab_helper.h",
    "google_one_offer_iph_tab_helper_constants.h",
    "image_downloader_impl.cc",
    "image_downloader_impl.h",
    "ime_controller_client_impl.cc",
    "ime_controller_client_impl.h",
    "in_session_auth_dialog_client.cc",
    "in_session_auth_dialog_client.h",
    "in_session_auth_token_provider_impl.cc",
    "in_session_auth_token_provider_impl.h",
    "media_client_impl.cc",
    "media_client_impl.h",
    "screen_orientation_delegate_chromeos.cc",
    "screen_orientation_delegate_chromeos.h",
    "screenshot_area.cc",
    "screenshot_area.h",
    "security_token_session_restriction_view.cc",
    "security_token_session_restriction_view.h",
    "session_controller_client_impl.cc",
    "session_controller_client_impl.h",
    "session_util.cc",
    "session_util.h",
    "system_sounds_delegate_impl.cc",
    "system_sounds_delegate_impl.h",
    "system_tray_client_impl.cc",
    "system_tray_client_impl.h",
    "tab_cluster_ui_client.cc",
    "tab_cluster_ui_client.h",
    "test_ime_controller.cc",
    "test_ime_controller.h",
    "thumbnail_loader.cc",
    "thumbnail_loader.h",
    "touch_selection_menu_chromeos.cc",
    "touch_selection_menu_chromeos.h",
    "touch_selection_menu_runner_chromeos.cc",
    "touch_selection_menu_runner_chromeos.h",
    "vpn_list_forwarder.cc",
    "vpn_list_forwarder.h",
    "wallpaper_controller_client_impl.cc",
    "wallpaper_controller_client_impl.h",
    "window_pin_util_ash.cc",
    "window_properties.cc",
    "window_properties.h",
  ]

  deps = [
    "//apps",
    "//ash",
    "//ash/components/arc:arc_features",
    "//ash/components/arc/vector_icons",
    "//ash/quick_pair/keyed_service",
    "//ash/style",
    "//ash/webui/personalization_app",
    "//ash/webui/settings/public/constants:mojom",
    "//ash/webui/system_apps/public:system_web_app_type",
    "//base",
    "//chrome/browser:browser_process",
    "//chrome/browser:main_extra_parts",
    "//chrome/browser/apps/app_service",
    "//chrome/browser/ash",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/app_list",
    "//chrome/browser/ash/app_list/search/files",
    "//chrome/browser/ash/app_list/search/local_image_search",
    "//chrome/browser/ash/apps",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/fileapi",
    "//chrome/browser/ash/arc/intent_helper",
    "//chrome/browser/ash/arc/notification",
    "//chrome/browser/ash/arc/print_spooler",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/util",
    "//chrome/browser/ash/arc/wallpaper",
    "//chrome/browser/ash/assistant",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/crosapi:browser_util",
    "//chrome/browser/ash/customization",
    "//chrome/browser/ash/drive",
    "//chrome/browser/ash/extensions",
    "//chrome/browser/ash/extensions/autotest_private",
    "//chrome/browser/ash/file_manager",
    "//chrome/browser/ash/floating_workspace",
    "//chrome/browser/ash/geolocation",
    "//chrome/browser/ash/growth",
    "//chrome/browser/ash/input_device_settings",
    "//chrome/browser/ash/input_method/ui",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login",
    "//chrome/browser/ash/login/demo_mode",
    "//chrome/browser/ash/login/lock",
    "//chrome/browser/ash/login/quick_unlock",
    "//chrome/browser/ash/login/screens",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/signin",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/login/ui/login_screen_extension_ui",
    "//chrome/browser/ash/login/users/avatar",
    "//chrome/browser/ash/magic_boost",
    "//chrome/browser/ash/mahi",
    "//chrome/browser/ash/mahi/media_app",
    "//chrome/browser/ash/multidevice_setup",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/dlp",
    "//chrome/browser/ash/policy/external_data/handlers",
    "//chrome/browser/ash/policy/handlers",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/profiles",
    "//chrome/browser/ash/sync",
    "//chrome/browser/ash/system",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ash/system_web_apps/apps/calculator_app",
    "//chrome/browser/ash/system_web_apps/apps/camera_app",
    "//chrome/browser/ash/system_web_apps/apps/personalization_app",
    "//chrome/browser/ash/wallpaper",
    "//chrome/browser/ash/wallpaper_handlers",
    "//chrome/browser/bitmap_fetcher",
    "//chrome/browser/chromeos",
    "//chrome/browser/chromeos/arc",
    "//chrome/browser/chromeos/extensions/vpn_provider",
    "//chrome/browser/chromeos/tablet_mode",
    "//chrome/browser/enterprise/connectors/device_trust/attestation/ash",
    "//chrome/browser/extensions",
    "//chrome/browser/media/router:media_router_feature",
    "//chrome/browser/media/router/discovery/access_code:access_code_cast_feature",
    "//chrome/browser/profiles",
    "//chrome/browser/profiles:profile",
    "//chrome/browser/scalable_iph:scalable_iph_factory",
    "//chrome/browser/sync",
    "//chrome/browser/ui:ui_features",
    "//chrome/browser/ui/ash/accessibility",
    "//chrome/browser/ui/ash/ambient",
    "//chrome/browser/ui/ash/annotator",
    "//chrome/browser/ui/ash/api/tasks",
    "//chrome/browser/ui/ash/capture_mode",
    "//chrome/browser/ui/ash/desks",
    "//chrome/browser/ui/ash/download_status",
    "//chrome/browser/ui/ash/focus_mode",
    "//chrome/browser/ui/ash/game_dashboard",
    "//chrome/browser/ui/ash/global_media_controls",
    "//chrome/browser/ui/ash/holding_space",
    "//chrome/browser/ui/ash/keyboard",
    "//chrome/browser/ui/ash/lobster",
    "//chrome/browser/ui/ash/multi_user",
    "//chrome/browser/ui/ash/network",
    "//chrome/browser/ui/ash/picker",
    "//chrome/browser/ui/ash/system_web_apps",
    "//chrome/browser/ui/chromeos/read_write_cards:read_write_cards_manager",
    "//chrome/browser/ui/quick_answers",
    "//chrome/browser/web_applications",
    "//chrome/browser/webshare:storage",
    "//chrome/common",
    "//chrome/common:channel_info",
    "//chromeos/ash/components/assistant:buildflags",
    "//chromeos/ash/components/browser_context_helper",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus",
    "//chromeos/ash/components/dbus/resourced",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/game_mode",
    "//chromeos/ash/components/geolocation",
    "//chromeos/ash/components/heatmap",
    "//chromeos/ash/components/login/session",
    "//chromeos/ash/components/network",
    "//chromeos/ash/components/network/portal_detector",
    "//chromeos/ash/components/phonehub",
    "//chromeos/ash/components/settings",
    "//chromeos/ash/components/standalone_browser",
    "//chromeos/ash/services/bluetooth_config",
    "//chromeos/ash/services/bluetooth_config:in_process_bluetooth_config",
    "//chromeos/ash/services/multidevice_setup",
    "//chromeos/components/mahi/public/cpp",
    "//components/access_code_cast/common:metrics",
    "//components/arc",
    "//components/feature_engagement/public",
    "//components/media_router/browser",
    "//components/media_router/common",
    "//components/policy/core/common",
    "//components/session_manager/core",
    "//components/startup_metric_utils",
    "//components/supervised_user/core/browser",
    "//components/ui_devtools",
    "//components/url_formatter",
    "//components/user_manager",
    "//components/version_info",
    "//components/webapps/common",
    "//content/public/browser",
    "//extensions/browser",
    "//extensions/common",
    "//services/audio/public/cpp",
    "//services/device/public/cpp/geolocation",
    "//services/preferences/public/cpp",
    "//ui/chromeos",
    "//ui/display",
    "//ui/events/ozone/evdev",
    "//ui/touch_selection",
    "//url",
  ]

  allow_circular_includes_from = [
    "//chrome/browser/apps/app_service",
    "//chrome/browser/ash",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/app_list",
    "//chrome/browser/ash/app_list/search/files",
    "//chrome/browser/ash/app_list/search/local_image_search",
    "//chrome/browser/ash/arc/notification",
    "//chrome/browser/ash/arc/print_spooler",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/extensions/autotest_private",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login",
    "//chrome/browser/ash/login/demo_mode",
    "//chrome/browser/ash/login/lock",
    "//chrome/browser/ash/login/screens",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/login/ui/login_screen_extension_ui",
    "//chrome/browser/ash/login/users/avatar",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/policy/dlp",
    "//chrome/browser/ash/policy/external_data/handlers",
    "//chrome/browser/ash/policy/handlers",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/system_web_apps/apps/personalization_app",
    "//chrome/browser/ash/arc/wallpaper",
    "//chrome/browser/chromeos",
    "//chrome/browser/extensions",
    "//chrome/browser/ui/ash/capture_mode",
    "//chrome/browser/ui/ash/desks",
    "//chrome/browser/ui/ash/download_status",
    "//chrome/browser/ui/ash/game_dashboard",
    "//chrome/browser/ui/ash/holding_space",
    "//chrome/browser/ui/ash/multi_user",
    "//chrome/browser/ui/ash/network",
    "//chrome/browser/ui/ash/picker",
  ]
}

static_library("test_support") {
  testonly = true

  sources = [
    "ash_test_util.cc",
    "ash_test_util.h",
    "mock_activation_change_observer.cc",
    "mock_activation_change_observer.h",
    "test_login_screen.cc",
    "test_login_screen.h",
    "test_login_screen_model.cc",
    "test_login_screen_model.h",
    "test_session_controller.cc",
    "test_session_controller.h",
    "test_wallpaper_controller.cc",
    "test_wallpaper_controller.h",
  ]

  deps = [
    ":ash",
    "//ash",
    "//ash/public/cpp",
    "//ash/public/mojom",
    "//base",
    "//base/test:test_support",
    "//chrome/browser/apps/app_service",
    "//chrome/browser/apps/app_service:constants",
    "//chrome/browser/ash",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ui",
    "//chrome/browser/ui:ui_features",
    "//chrome/browser/ui/ash/system_web_apps",
    "//testing/gmock",
    "//testing/gtest",
    "//ui/events:test_support",
  ]
}
