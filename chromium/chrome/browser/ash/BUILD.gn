# Copyright 2022 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chrome_build.gni")
import("//build/config/chromebox_for_meetings/buildflags.gni")
import("//build/config/chromeos/ui_mode.gni")
import("//build/config/ozone.gni")
import("//build/config/sanitizers/sanitizers.gni")
import("//extensions/buildflags/buildflags.gni")
import("//media/media_options.gni")
import("//printing/buildflags/buildflags.gni")
import("//rlz/buildflags/buildflags.gni")
import("//testing/libfuzzer/fuzzer_test.gni")
import("//third_party/libprotobuf-mutator/fuzzable_proto_library.gni")
import("//third_party/protobuf/proto_library.gni")

assert(enable_extensions, "Ash Chrome has to be built with extensions")
assert(is_chromeos_ash)
assert(use_ozone)

static_library("ash") {
  configs += [ "//build/config/compiler:wexit_time_destructors" ]

  defines = []
  if (use_cras) {
    defines += [ "USE_CRAS" ]
  }

  sources = [
    "boot_times_recorder.cc",
    "boot_times_recorder.h",
    "boot_times_recorder_tab_helper.cc",
    "boot_times_recorder_tab_helper.h",
    "browser_context_keyed_service_factories.cc",
    "browser_context_keyed_service_factories.h",
    "camera_presence_notifier.cc",
    "camera_presence_notifier.h",
    "chrome_browser_main_parts_ash.cc",
    "chrome_browser_main_parts_ash.h",
    "concierge_helper_service.cc",
    "concierge_helper_service.h",
    "dbus_schedqos_state_handler.cc",
    "dbus_schedqos_state_handler.h",
    "eol_incentive_util.cc",
    "eol_incentive_util.h",
    "eol_notification.cc",
    "eol_notification.h",
    "external_metrics.cc",
    "external_metrics.h",
    "external_protocol_dialog.cc",
    "external_protocol_dialog.h",
    "http_auth_dialog.cc",
    "http_auth_dialog.h",
    "idle_detector.cc",
    "idle_detector.h",
    "language_preferences.cc",
    "language_preferences.h",
    "locale_change_guard.cc",
    "locale_change_guard.h",
    "logging.cc",
    "logging.h",
    "network_change_manager_client.cc",
    "network_change_manager_client.h",
    "nonclosable_app_ui_utils.cc",
    "nonclosable_app_ui_utils.h",
    "note_taking_controller_client.cc",
    "note_taking_controller_client.h",
    "note_taking_helper.cc",
    "note_taking_helper.h",
    "os_url_handler.cc",
    "os_url_handler.h",
    "policy/arc/android_management_client.cc",
    "policy/arc/android_management_client.h",
    "policy/dev_mode/dev_mode_policy_util.cc",
    "policy/dev_mode/dev_mode_policy_util.h",
    "policy/display/display_resolution_handler.cc",
    "policy/display/display_resolution_handler.h",
    "policy/display/display_rotation_default_handler.cc",
    "policy/display/display_rotation_default_handler.h",
    "policy/display/display_settings_handler.cc",
    "policy/display/display_settings_handler.h",
    "policy/login/login_profile_policy_provider.cc",
    "policy/login/login_profile_policy_provider.h",
    "policy/login/wildcard_login_checker.cc",
    "policy/login/wildcard_login_checker.h",
    "policy/multi_screen_capture/multi_screen_capture_policy_service.cc",
    "policy/multi_screen_capture/multi_screen_capture_policy_service.h",
    "policy/multi_screen_capture/multi_screen_capture_policy_service_factory.cc",
    "policy/multi_screen_capture/multi_screen_capture_policy_service_factory.h",
    "policy/networking/euicc_status_uploader.cc",
    "policy/networking/euicc_status_uploader.h",
    "policy/off_hours/device_off_hours_controller.cc",
    "policy/off_hours/device_off_hours_controller.h",
    "policy/off_hours/off_hours_policy_applier.cc",
    "policy/off_hours/off_hours_policy_applier.h",
    "policy/off_hours/off_hours_proto_parser.cc",
    "policy/off_hours/off_hours_proto_parser.h",
    "policy/rsu/lookup_key_uploader.cc",
    "policy/rsu/lookup_key_uploader.h",
    "policy/server_backed_state/server_backed_device_state.cc",
    "policy/server_backed_state/server_backed_device_state.h",
    "policy/server_backed_state/server_backed_state_keys_broker.cc",
    "policy/server_backed_state/server_backed_state_keys_broker.h",
    "policy/skyvault/drive_skyvault_uploader.cc",
    "policy/skyvault/drive_skyvault_uploader.h",
    "policy/skyvault/drive_upload_observer.cc",
    "policy/skyvault/drive_upload_observer.h",
    "policy/skyvault/file_location_utils.cc",
    "policy/skyvault/file_location_utils.h",
    "policy/skyvault/local_files_cleanup.cc",
    "policy/skyvault/local_files_cleanup.h",
    "policy/skyvault/local_files_migration_manager.cc",
    "policy/skyvault/local_files_migration_manager.h",
    "policy/skyvault/local_user_files_policy_observer.cc",
    "policy/skyvault/local_user_files_policy_observer.h",
    "policy/skyvault/migration_coordinator.cc",
    "policy/skyvault/migration_coordinator.h",
    "policy/skyvault/migration_notification_manager.cc",
    "policy/skyvault/migration_notification_manager.h",
    "policy/skyvault/odfs_skyvault_uploader.cc",
    "policy/skyvault/odfs_skyvault_uploader.h",
    "policy/skyvault/policy_utils.cc",
    "policy/skyvault/policy_utils.h",
    "policy/skyvault/signin_notification_helper.cc",
    "policy/skyvault/signin_notification_helper.h",
    "policy/skyvault/skyvault_rename_handler.cc",
    "policy/skyvault/skyvault_rename_handler.h",
    "policy/status_collector/activity_storage.cc",
    "policy/status_collector/activity_storage.h",
    "policy/status_collector/app_info_generator.cc",
    "policy/status_collector/app_info_generator.h",
    "policy/status_collector/child_activity_storage.cc",
    "policy/status_collector/child_activity_storage.h",
    "policy/status_collector/child_status_collector.cc",
    "policy/status_collector/child_status_collector.h",
    "policy/status_collector/device_status_collector.cc",
    "policy/status_collector/device_status_collector.h",
    "policy/status_collector/enterprise_activity_storage.cc",
    "policy/status_collector/enterprise_activity_storage.h",
    "policy/status_collector/managed_session_service.cc",
    "policy/status_collector/managed_session_service.h",
    "policy/status_collector/status_collector.cc",
    "policy/status_collector/status_collector.h",
    "policy/status_collector/status_collector_state.cc",
    "policy/status_collector/status_collector_state.h",
    "policy/status_collector/tpm_status_combiner.cc",
    "policy/status_collector/tpm_status_combiner.h",
    "policy/uploading/heartbeat_scheduler.cc",
    "policy/uploading/heartbeat_scheduler.h",
    "policy/uploading/status_uploader.cc",
    "policy/uploading/status_uploader.h",
    "policy/uploading/system_log_uploader.cc",
    "policy/uploading/system_log_uploader.h",
    "policy/uploading/upload_job.h",
    "policy/uploading/upload_job_impl.cc",
    "policy/uploading/upload_job_impl.h",
    "policy/value_validation/onc_device_policy_value_validator.cc",
    "policy/value_validation/onc_device_policy_value_validator.h",
    "policy/value_validation/onc_policy_value_validator_base.h",
    "policy/value_validation/onc_user_policy_value_validator.cc",
    "policy/value_validation/onc_user_policy_value_validator.h",
    "preferences.cc",
    "preferences.h",
    "process_snapshot_server.cc",
    "process_snapshot_server.h",
    "report_controller_initializer.cc",
    "report_controller_initializer.h",
    "scheduler_configuration_manager.cc",
    "scheduler_configuration_manager.h",
    "session_length_limiter.cc",
    "session_length_limiter.h",
    "set_time_dialog.cc",
    "set_time_dialog.h",
    "settings/about_flags.cc",
    "settings/about_flags.h",
    "settings/cros_settings_holder.cc",
    "settings/cros_settings_holder.h",
    "settings/device_settings_cache.cc",
    "settings/device_settings_cache.h",
    "settings/device_settings_provider.cc",
    "settings/device_settings_provider.h",
    "settings/device_settings_service.cc",
    "settings/device_settings_service.h",
    "settings/hardware_data_usage_controller.cc",
    "settings/hardware_data_usage_controller.h",
    "settings/owner_pending_setting_controller.cc",
    "settings/owner_pending_setting_controller.h",
    "settings/session_manager_operation.cc",
    "settings/session_manager_operation.h",
    "settings/shutdown_policy_forwarder.cc",
    "settings/shutdown_policy_forwarder.h",
    "settings/shutdown_policy_handler.cc",
    "settings/shutdown_policy_handler.h",
    "settings/stats_reporting_controller.cc",
    "settings/stats_reporting_controller.h",
    "settings/stub_cros_settings_provider.cc",
    "settings/stub_cros_settings_provider.h",
    "settings/supervised_user_cros_settings_provider.cc",
    "settings/supervised_user_cros_settings_provider.h",
    "settings/token_encryptor.cc",
    "settings/token_encryptor.h",
    "shortcut_mapping_pref_service.cc",
    "shortcut_mapping_pref_service.h",
    "startup_settings_cache.cc",
    "startup_settings_cache.h",
    "system_token_cert_db_initializer.cc",
    "system_token_cert_db_initializer.h",
    "throttle_observer.cc",
    "throttle_observer.h",
    "throttle_service.cc",
    "throttle_service.h",
    "tpm_firmware_update.cc",
    "tpm_firmware_update.h",
    "tpm_firmware_update_notification.cc",
    "tpm_firmware_update_notification.h",
    "u2f_notification.cc",
    "u2f_notification.h",
    "url_handler.cc",
    "url_handler.h",
    "vm_shutdown_observer.h",
    "vm_starting_observer.h",
    "window_throttle_observer_base.cc",
    "window_throttle_observer_base.h",
  ]

  allow_circular_includes_from = [
    "//chrome/browser/apps/almanac_api_client",
    "//chrome/browser/apps/app_service",
    "//chrome/browser/apps/app_service/app_icon",
    "//chrome/browser/apps/platform_apps/api",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/accessibility/live_caption",
    "//chrome/browser/ash/accessibility/service",
    "//chrome/browser/ash/account_manager",
    "//chrome/browser/ash/android_sms",
    "//chrome/browser/ash/app_list",
    "//chrome/browser/ash/app_list/search/local_image_search",
    "//chrome/browser/ash/app_mode",
    "//chrome/browser/ash/app_mode/auto_sleep",
    "//chrome/browser/ash/app_mode/web_app",
    "//chrome/browser/ash/app_restore",
    "//chrome/browser/ash/apps",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/accessibility",
    "//chrome/browser/ash/arc/adbd",
    "//chrome/browser/ash/arc/app_shortcuts",
    "//chrome/browser/ash/arc/auth",
    "//chrome/browser/ash/arc/bluetooth",
    "//chrome/browser/ash/arc/enterprise/cert_store",
    "//chrome/browser/ash/arc/fileapi",
    "//chrome/browser/ash/arc/file_system_watcher",
    "//chrome/browser/ash/arc/idle_manager",
    "//chrome/browser/ash/arc/input_method_manager",
    "//chrome/browser/ash/arc/instance_throttle",
    "//chrome/browser/ash/arc/intent_helper",
    "//chrome/browser/ash/arc/metrics",
    "//chrome/browser/ash/arc/nearby_share",
    "//chrome/browser/ash/arc/notification",
    "//chrome/browser/ash/arc/optin",
    "//chrome/browser/ash/arc/policy",
    "//chrome/browser/ash/arc/process",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/survey",
    "//chrome/browser/ash/arc/tracing",
    "//chrome/browser/ash/arc/vmm",
    "//chrome/browser/ash/arc/window_predictor",
    "//chrome/browser/ash/assistant",
    "//chrome/browser/ash/attestation",
    "//chrome/browser/ash/base",
    "//chrome/browser/ash/bluetooth",
    "//chrome/browser/ash/borealis",
    "//chrome/browser/ash/bruschetta",
    "//chrome/browser/ash/camera_mic",
    "//chrome/browser/ash/cert_provisioning",
    "//chrome/browser/ash/child_accounts",
    "//chrome/browser/ash/child_accounts/on_device_controls",
    "//chrome/browser/ash/child_accounts/parent_access_code",
    "//chrome/browser/ash/child_accounts/time_limits",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/crostini",
    "//chrome/browser/ash/crostini/throttle",
    "//chrome/browser/ash/cryptauth",
    "//chrome/browser/ash/customization",
    "//chrome/browser/ash/dbus",
    "//chrome/browser/ash/dbus/vm",
    "//chrome/browser/ash/device_name",
    "//chrome/browser/ash/device_sync",
    "//chrome/browser/ash/diagnostics",
    "//chrome/browser/ash/drive",
    "//chrome/browser/ash/early_prefs",
    "//chrome/browser/ash/eche_app",
    "//chrome/browser/ash/events",
    "//chrome/browser/ash/exo",
    "//chrome/browser/ash/extended_updates",
    "//chrome/browser/ash/extensions",
    "//chrome/browser/ash/extensions/autotest_private",
    "//chrome/browser/ash/extensions/file_manager",
    "//chrome/browser/ash/extensions/login_screen_ui",
    "//chrome/browser/ash/extensions/users_private",
    "//chrome/browser/ash/fileapi",
    "//chrome/browser/ash/file_manager",
    "//chrome/browser/ash/file_manager/virtual_tasks",
    "//chrome/browser/ash/file_suggest",
    "//chrome/browser/ash/file_system_provider",
    "//chrome/browser/ash/file_system_provider/fileapi",
    "//chrome/browser/ash/first_run",
    "//chrome/browser/ash/floating_workspace",
    "//chrome/browser/ash/fusebox",
    "//chrome/browser/ash/growth",
    "//chrome/browser/ash/guest_os",
    "//chrome/browser/ash/guest_os/public",
    "//chrome/browser/ash/hats",
    "//chrome/browser/ash/input_method",
    "//chrome/browser/ash/kcer",
    "//chrome/browser/ash/kcer/nssdb_migration",
    "//chrome/browser/ash/kerberos",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login",
    "//chrome/browser/ash/login/auth",
    "//chrome/browser/ash/login/demo_mode",
    "//chrome/browser/ash/login/enrollment",
    "//chrome/browser/ash/login/extensions",
    "//chrome/browser/ash/login/lock",
    "//chrome/browser/ash/login/lock/online_reauth",
    "//chrome/browser/ash/login/osauth",
    "//chrome/browser/ash/login/quick_unlock",
    "//chrome/browser/ash/login/reporting",
    "//chrome/browser/ash/login/saml",
    "//chrome/browser/ash/login/screens",
    "//chrome/browser/ash/login/screens/chromevox_hint",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/login/users",
    "//chrome/browser/ash/magic_boost",
    "//chrome/browser/ash/multidevice_debug",
    "//chrome/browser/ash/multidevice_setup",
    "//chrome/browser/ash/nearby",
    "//chrome/browser/ash/nearby/presence",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/net/dns_over_https",
    "//chrome/browser/ash/net/network_diagnostics",
    "//chrome/browser/ash/net/network_health",
    "//chrome/browser/ash/net/rollback_network_config",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/ownership",
    "//chrome/browser/ash/phonehub",
    "//chrome/browser/ash/platform_keys",
    "//chrome/browser/ash/platform_keys/key_permissions",
    "//chrome/browser/ash/plugin_vm",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/dlp",
    "//chrome/browser/ash/policy/dlp/dialogs",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/external_data",
    "//chrome/browser/ash/policy/external_data/handlers",
    "//chrome/browser/ash/policy/handlers",
    "//chrome/browser/ash/policy/invalidation",
    "//chrome/browser/ash/policy/remote_commands",
    "//chrome/browser/ash/policy/reporting/metrics_reporting",
    "//chrome/browser/ash/policy/reporting/user_added_removed",
    "//chrome/browser/ash/power",
    "//chrome/browser/ash/power/auto_screen_brightness",
    "//chrome/browser/ash/power/ml",
    "//chrome/browser/ash/power/smart_charging",
    "//chrome/browser/ash/printing",
    "//chrome/browser/ash/printing/enterprise",
    "//chrome/browser/ash/printing/history",
    "//chrome/browser/ash/printing/oauth2",
    "//chrome/browser/ash/printing/print_management",
    "//chrome/browser/ash/printing/print_preview",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/profiles",
    "//chrome/browser/ash/quick_pair",
    "//chrome/browser/ash/release_notes",
    "//chrome/browser/ash/remote_apps",
    "//chrome/browser/ash/scalable_iph",
    "//chrome/browser/ash/scanning",
    "//chrome/browser/ash/secure_channel",
    "//chrome/browser/ash/sharesheet",
    "//chrome/browser/ash/shimless_rma",
    "//chrome/browser/ash/smb_client",
    "//chrome/browser/ash/smb_client/fileapi",
    "//chrome/browser/ash/sparky",
    "//chrome/browser/ash/system",
    "//chrome/browser/ash/system_logs",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ash/system_web_apps/apps",
    "//chrome/browser/ash/system_web_apps/apps/camera_app",
    "//chrome/browser/ash/system_web_apps/apps/help_app",
    "//chrome/browser/ash/system_web_apps/apps/media_app",
    "//chrome/browser/ash/system_web_apps/apps/personalization_app",
    "//chrome/browser/ash/tether",
    "//chrome/browser/ash/trusted_vault",
    "//chrome/browser/ash/usb",
    "//chrome/browser/ash/video_conference",
    "//chrome/browser/ash/wallpaper",
    "//chrome/browser/ash/wallpaper_handlers",
    "//chrome/browser/chromeos",
    "//chrome/browser/extensions",
    "//chrome/browser/google",
    "//chrome/browser/policy:onc",
    "//chrome/browser/sync",
    "//chrome/browser/ui/ash/system_web_apps",
    "//chrome/browser/web_applications",
  ]

  public_deps = [
    ":lock_unlock_event_proto",
    ":login_logout_event_proto",
    ":os_events_proto",
    "//ash",
    "//ash/app_list",
    "//ash/components/arc",
    "//ash/components/arc:arc_base",
    "//ash/components/arc:arc_base_utils",
    "//ash/components/arc:prefs",
    "//ash/components/arc/mojom",
    "//ash/components/arc/mojom:media",
    "//ash/components/arc/mojom:oemcrypto",
    "//ash/components/arc/session",
    "//ash/components/arc/session:arc_base_enums",
    "//ash/components/arc/session:connection_holder",
    "//ash/constants",
    "//ash/public/cpp",
    "//ash/public/cpp/external_arc",
    "//ash/public/mojom",
    "//ash/public/mojom:accelerator_info",
    "//ash/public/mojom:hid_preserving_bluetooth_state_controller",
    "//ash/quick_pair/common",
    "//ash/webui/annotator",
    "//ash/webui/boca_ui",
    "//ash/webui/camera_app_ui",
    "//ash/webui/common/mojom:sea_pen",
    "//ash/webui/connectivity_diagnostics",
    "//ash/webui/diagnostics_ui",
    "//ash/webui/file_manager:file_manager_ui",
    "//ash/webui/files_internals",
    "//ash/webui/help_app_ui",
    "//ash/webui/media_app_ui",
    "//ash/webui/media_app_ui:mojo_bindings_untrusted",
    "//ash/webui/os_feedback_ui/backend",
    "//ash/webui/personalization_app",
    "//ash/webui/personalization_app/mojom",
    "//ash/webui/print_preview_cros",
    "//ash/webui/print_preview_cros:url_constants",
    "//ash/webui/projector_app",
    "//ash/webui/recorder_app_ui",
    "//ash/webui/recorder_app_ui/mojom",
    "//ash/webui/sanitize_ui",
    "//ash/webui/scanning",
    "//ash/webui/scanning/mojom",
    "//ash/webui/settings/public/constants",
    "//ash/webui/shimless_rma",
    "//ash/webui/shimless_rma/backend",
    "//ash/webui/shortcut_customization_ui",
    "//ash/webui/shortcut_customization_ui/backend",
    "//ash/webui/vc_background_ui",
    "//base",
    "//base:i18n",
    "//build:chromeos_buildflags",
    "//chrome/app/vector_icons",
    "//chrome/browser:browser_process",
    "//chrome/browser/apps/almanac_api_client",
    "//chrome/browser/apps/almanac_api_client/proto",
    "//chrome/browser/apps/app_service/app_install",
    "//chrome/browser/apps/peripherals/proto",
    "//chrome/browser/ash/account_manager",
    "//chrome/browser/ash/app_list",
    "//chrome/browser/ash/app_list/arc",
    "//chrome/browser/ash/app_list/search/local_image_search",
    "//chrome/browser/ash/arc/input_overlay/db/proto",
    "//chrome/browser/ash/borealis",
    "//chrome/browser/ash/borealis:borealis_installer_types_mojom",
    "//chrome/browser/ash/camera_mic",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/crosapi:browser_util",
    "//chrome/browser/ash/crostini",
    "//chrome/browser/ash/crostini:crostini_installer_types_mojom",
    "//chrome/browser/ash/dbus",
    "//chrome/browser/ash/dbus/vm",
    "//chrome/browser/ash/file_manager",
    "//chrome/browser/ash/file_manager/virtual_tasks",
    "//chrome/browser/ash/fileapi",
    "//chrome/browser/ash/fusebox:fusebox_proto",
    "//chrome/browser/ash/guest_os:guest_os_diagnostics_mojom",
    "//chrome/browser/ash/login/oobe_apps_service",
    "//chrome/browser/ash/login/oobe_quick_start",
    "//chrome/browser/ash/login/oobe_quick_start:oobe_quick_start_pref_names",
    "//chrome/browser/ash/login/oobe_quick_start/connectivity",
    "//chrome/browser/ash/login/version_updater",
    "//chrome/browser/ash/mahi",
    "//chrome/browser/ash/nearby:quick_start_connectivity_service",
    "//chrome/browser/ash/power/ml:screen_brightness_event_proto",
    "//chrome/browser/ash/power/ml:user_activity_event_proto",
    "//chrome/browser/ash/power/ml/smart_dim",
    "//chrome/browser/ash/printing/history",
    "//chrome/browser/ash/printing/history:print_job_info_proto",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/remote_apps",
    "//chrome/browser/ash/smb_client",
    "//chrome/browser/ash/smb_client/fileapi",
    "//chrome/browser/ash/sparky",
    "//chrome/browser/ash/system",
    "//chrome/browser/ash/system_logs",
    "//chrome/browser/ash/system_web_apps/apps",
    "//chrome/browser/ash/system_web_apps/apps/help_app",
    "//chrome/browser/ash/system_web_apps/types",
    "//chrome/browser/ash/usb",
    "//chrome/browser/chromeos",
    "//chrome/browser/enterprise/data_controls",
    "//chrome/browser/extensions",
    "//chrome/browser/extensions:cws_item_service_proto",
    "//chrome/browser/image_decoder",
    "//chrome/browser/policy/messaging_layer/proto:crd_event_proto",
    "//chrome/browser/policy/messaging_layer/proto:log_upload_event_proto",
    "//chrome/browser/policy/messaging_layer/storage_selector",
    "//chrome/browser/safe_browsing",
    "//chrome/browser/support_tool:support_tool_proto",
    "//chrome/browser/ui/webui/ash/crostini_upgrader:mojo_bindings_headers",
    "//chrome/browser/ui/webui/ash/login/mojom:mojom",
    "//chrome/browser/ui/webui/bluetooth_internals:mojo_bindings",
    "//chrome/browser/web_applications",
    "//chrome/common",
    "//chrome/common:buildflags",
    "//chrome/common:chrome_features",
    "//chrome/common:constants",
    "//chrome/common/extensions/api",
    "//chrome/services/file_util/public/cpp",
    "//chrome/services/keymanagement/public/mojom",
    "//chrome/services/keymaster/public/mojom",
    "//chrome/services/keymint/public/mojom",
    "//chrome/services/media_gallery_util/public/cpp",
    "//chrome/services/media_gallery_util/public/mojom:mojom_headers",
    "//chrome/services/pdf/public/mojom",
    "//chrome/services/printing/public/mojom",
    "//chromeos:chromeos_export",
    "//chromeos/ash/components/attestation",
    "//chromeos/ash/components/audio",
    "//chromeos/ash/components/browser_context_helper",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus:metrics_event_proto",
    "//chromeos/ash/components/dbus:vm_applications_apps_proto",
    "//chromeos/ash/components/dbus:vm_launch_proto",
    "//chromeos/ash/components/dbus:vm_wl_proto",
    "//chromeos/ash/components/dbus/anomaly_detector",
    "//chromeos/ash/components/dbus/anomaly_detector:proto",
    "//chromeos/ash/components/dbus/attestation",
    "//chromeos/ash/components/dbus/attestation:attestation_proto",
    "//chromeos/ash/components/dbus/chunneld",
    "//chromeos/ash/components/dbus/cicerone",
    "//chromeos/ash/components/dbus/cicerone:cicerone_proto",
    "//chromeos/ash/components/dbus/concierge",
    "//chromeos/ash/components/dbus/concierge:concierge_proto",
    "//chromeos/ash/components/dbus/constants",
    "//chromeos/ash/components/dbus/cros_disks",
    "//chromeos/ash/components/dbus/cryptohome:cryptohome_proto",
    "//chromeos/ash/components/dbus/debug_daemon",
    "//chromeos/ash/components/dbus/device_management:device_management_proto",
    "//chromeos/ash/components/dbus/dlcservice",
    "//chromeos/ash/components/dbus/gnubby",
    "//chromeos/ash/components/dbus/hermes",
    "//chromeos/ash/components/dbus/kerberos:kerberos_proto",
    "//chromeos/ash/components/dbus/lorgnette_manager",
    "//chromeos/ash/components/dbus/lorgnette_manager:lorgnette_proto",
    "//chromeos/ash/components/dbus/os_install",
    "//chromeos/ash/components/dbus/resourced",
    "//chromeos/ash/components/dbus/seneschal",
    "//chromeos/ash/components/dbus/seneschal:seneschal_proto",
    "//chromeos/ash/components/dbus/services",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/dbus/session_manager:login_manager_proto",
    "//chromeos/ash/components/dbus/smbprovider",
    "//chromeos/ash/components/dbus/swap_management",
    "//chromeos/ash/components/dbus/system_clock",
    "//chromeos/ash/components/dbus/system_proxy:system_proxy_proto",
    "//chromeos/ash/components/dbus/update_engine",
    "//chromeos/ash/components/dbus/userdataauth",
    "//chromeos/ash/components/dbus/userdataauth:userdataauth_proto",
    "//chromeos/ash/components/dbus/vm_plugin_dispatcher",
    "//chromeos/ash/components/dbus/vm_plugin_dispatcher:proto",
    "//chromeos/ash/components/disks",
    "//chromeos/ash/components/drivefs",
    "//chromeos/ash/components/drivefs/mojom",
    "//chromeos/ash/components/feature_usage",
    "//chromeos/ash/components/file_manager",
    "//chromeos/ash/components/geolocation",
    "//chromeos/ash/components/growth",
    "//chromeos/ash/components/hid_detection",
    "//chromeos/ash/components/install_attributes",
    "//chromeos/ash/components/language_packs",
    "//chromeos/ash/components/login/auth",
    "//chromeos/ash/components/login/auth/public:authpublic",
    "//chromeos/ash/components/login/auth/public:challenge_response_key",
    "//chromeos/ash/components/login/integrity",
    "//chromeos/ash/components/login/login_state",
    "//chromeos/ash/components/login/session",
    "//chromeos/ash/components/memory",
    "//chromeos/ash/components/metrics",
    "//chromeos/ash/components/mojo_service_manager/mojom",
    "//chromeos/ash/components/multidevice",
    "//chromeos/ash/components/nearby/common/connections_manager:connections_manager",
    "//chromeos/ash/components/nearby/presence",
    "//chromeos/ash/components/nearby/presence/conversions",
    "//chromeos/ash/components/network/portal_detector",
    "//chromeos/ash/components/osauth/impl",
    "//chromeos/ash/components/osauth/public",
    "//chromeos/ash/components/phonehub",
    "//chromeos/ash/components/phonehub/proto",
    "//chromeos/ash/components/policy",
    "//chromeos/ash/components/proximity_auth",
    "//chromeos/ash/components/quick_start:quick_start",
    "//chromeos/ash/components/quick_start:test_support",
    "//chromeos/ash/components/scanning",
    "//chromeos/ash/components/settings",
    "//chromeos/ash/components/smbfs",
    "//chromeos/ash/components/sparky",
    "//chromeos/ash/components/standalone_browser",
    "//chromeos/ash/components/system",
    "//chromeos/ash/components/tether",
    "//chromeos/ash/components/timezone",
    "//chromeos/ash/components/trash_service/public/cpp",
    "//chromeos/ash/components/wifi_p2p",
    "//chromeos/ash/services/auth_factor_config",
    "//chromeos/ash/services/cros_healthd/public/cpp",
    "//chromeos/ash/services/cros_healthd/public/mojom",
    "//chromeos/ash/services/device_sync/proto",
    "//chromeos/ash/services/device_sync/public/cpp",
    "//chromeos/ash/services/ime/public/cpp:structs",
    "//chromeos/ash/services/ime/public/mojom",
    "//chromeos/ash/services/multidevice_setup/public/cpp",
    "//chromeos/ash/services/nearby/public/cpp",
    "//chromeos/ash/services/nearby/public/mojom",
    "//chromeos/ash/services/network_health",
    "//chromeos/ash/services/network_health/public/cpp",
    "//chromeos/ash/services/orca/public/mojom",
    "//chromeos/ash/services/quick_pair/public/mojom:mojom_headers",
    "//chromeos/ash/services/rollback_network_config/public/mojom",
    "//chromeos/ash/services/secure_channel/public/cpp/client",
    "//chromeos/ash/services/secure_channel/public/mojom",
    "//chromeos/ash/services/wifi_direct/public/mojom",
    "//chromeos/components/firewall_hole",
    "//chromeos/components/mahi/public/cpp",
    "//chromeos/components/onc",
    "//chromeos/components/print_management/mojom",
    "//chromeos/components/remote_apps/mojom",
    "//chromeos/components/sensors/mojom",
    "//chromeos/components/sharesheet:constants",
    "//chromeos/crosapi/mojom",
    "//chromeos/dbus/common",
    "//chromeos/dbus/dlp:dlp_proto",
    "//chromeos/dbus/missive",
    "//chromeos/dbus/missive:history_tracker",
    "//chromeos/dbus/power:power_manager_proto",
    "//chromeos/dbus/tpm_manager",
    "//chromeos/dbus/tpm_manager:tpm_manager_proto",
    "//chromeos/printing",
    "//chromeos/services/machine_learning/public/mojom",
    "//chromeos/services/network_config/public/cpp",
    "//chromeos/services/network_config/public/mojom",
    "//chromeos/services/network_health/public/mojom",
    "//chromeos/services/network_health/public/mojom:types",
    "//chromeos/strings:strings_grit",
    "//chromeos/ui/base",
    "//components/account_id",
    "//components/account_manager_core",
    "//components/app_restore",
    "//components/arc",
    "//components/arc/common",
    "//components/autofill/core/browser",
    "//components/captive_portal/core",
    "//components/content_settings/core/browser",
    "//components/cross_device/logging:logging",
    "//components/desks_storage",
    "//components/download/content/public",
    "//components/download/public/background_service:public",
    "//components/drive",
    "//components/enterprise/data_controls/core",
    "//components/exo",
    "//components/feedback",
    "//components/feedback/redaction_tool",
    "//components/file_access",
    "//components/flags_ui",
    "//components/gcm_driver",
    "//components/gcm_driver/instance_id",
    "//components/guest_os",
    "//components/history/core/browser",
    "//components/invalidation/public",
    "//components/keep_alive_registry",
    "//components/keyed_service/content",
    "//components/keyed_service/core",
    "//components/leveldb_proto",
    "//components/login",
    "//components/metrics",
    "//components/metrics/structured:structured_events",
    "//components/onc",
    "//components/ownership",
    "//components/policy/content:content",
    "//components/policy/core/browser",
    "//components/policy/core/common",
    "//components/policy/core/common:common_constants",
    "//components/policy/core/common:policy_namespace",
    "//components/policy/proto",
    "//components/printing/common:mojo_interfaces",
    "//components/push_notification:push_notification",
    "//components/qr_code_generator:bitmap_generator",
    "//components/reporting/client:report_queue",
    "//components/reporting/client:report_queue_configuration",
    "//components/reporting/client:report_queue_provider",
    "//components/reporting/metrics:metrics_data_collection",
    "//components/reporting/proto:health_proto",
    "//components/reporting/proto:metric_data_proto",
    "//components/reporting/proto:record_constants",
    "//components/reporting/proto:record_proto",
    "//components/reporting/resources:resource_manager",
    "//components/services/app_service",
    "//components/services/unzip/public/cpp",
    "//components/session_manager:base",
    "//components/signin/core/browser",
    "//components/signin/public/identity_manager",
    "//components/soda",
    "//components/soda:constants",
    "//components/soda:utils",
    "//components/storage_monitor",
    "//components/sync/model",
    "//components/sync/protocol",
    "//components/sync/service",
    "//components/sync_preferences",
    "//components/variations/service",
    "//components/version_info",
    "//components/viz/common",
    "//components/web_modal",
    "//content/public/browser",
    "//crypto",
    "//dbus",
    "//extensions/browser",
    "//extensions/browser/api/automation_internal",
    "//extensions/browser/api/messaging:native_messaging",
    "//extensions/browser/updater",
    "//extensions/common",
    "//extensions/common/api",
    "//google_apis/drive",
    "//gpu/command_buffer/client",
    "//media:media_buildflags",
    "//media/capture:capture_lib",
    "//media/capture/video/chromeos/mojom:cros_camera_shared",
    "//media/mojo/mojom:speech_recognition",
    "//mojo/public/cpp/base",
    "//mojo/public/cpp/bindings",
    "//mojo/public/cpp/platform",
    "//mojo/public/cpp/system",
    "//net",
    "//net/traffic_annotation",
    "//printing",
    "//printing:printing_base",
    "//printing/backend",
    "//remoting/host/chromeos:enterprise_support",
    "//remoting/host/chromeos:host_event_reporter_impl",
    "//remoting/host/mojom",
    "//services/accessibility/android:android_lib",
    "//services/accessibility/android/public/mojom",
    "//services/accessibility/public/mojom:mojom",
    "//services/device/public/mojom",
    "//services/device/public/mojom:usb",
    "//services/media_session/public/mojom",
    "//services/metrics/public/cpp:metrics_cpp",
    "//services/network/public/cpp",
    "//services/network/public/cpp:cpp_base",
    "//services/network/public/mojom",
    "//services/network/public/mojom:cookies_mojom",
    "//services/network/public/mojom:url_loader_base",
    "//services/tracing/public/cpp",
    "//services/video_capture/public/mojom",
    "//services/viz/privileged/mojom/compositing",
    "//services/viz/public/mojom",
    "//skia",
    "//storage/common",
    "//third_party/abseil-cpp:absl",
    "//third_party/blink/public/mojom:mojom_platform",
    "//third_party/boringssl",
    "//third_party/ced",
    "//third_party/icu",
    "//third_party/metrics_proto",
    "//third_party/nearby:connections_credential_proto",
    "//third_party/nearby:connections_local_credential_proto",
    "//third_party/private_membership",
    "//third_party/private_membership:private_membership_proto",
    "//third_party/shell-encryption:shell_encryption",
    "//ui/accessibility",
    "//ui/accessibility:ax_base",
    "//ui/accessibility:ax_enums_mojo_headers",
    "//ui/accessibility/mojom",
    "//ui/aura",
    "//ui/base",
    "//ui/base:features",
    "//ui/base:types",
    "//ui/base/clipboard",
    "//ui/base/idle",
    "//ui/base/ime",
    "//ui/base/ime:ime_types",
    "//ui/base/ime/ash",
    "//ui/base/metadata",
    "//ui/chromeos/styles:cros_styles_views",
    "//ui/chromeos/styles:cros_tokens_color_mappings",
    "//ui/compositor",
    "//ui/display",
    "//ui/display/manager",
    "//ui/display/types",
    "//ui/events",
    "//ui/events:dom_keycode_converter",
    "//ui/events:events_base",
    "//ui/events/ash",
    "//ui/events/devices",
    "//ui/events/types:headers",
    "//ui/gfx",
    "//ui/gfx:native_widget_types",
    "//ui/gfx/geometry",
    "//ui/gfx/range",
    "//ui/message_center/public/cpp",
    "//ui/shell_dialogs",
    "//ui/snapshot",
    "//ui/views",
    "//ui/views/controls/webview",
    "//ui/web_dialogs",
    "//ui/webui",
    "//ui/wm/public",
    "//url",
  ]

  deps = [
    ":add_remove_user_event_proto",
    ":app_install_events_proto",
    ":device_policy_remover_generated",
    "//apps",
    "//ash/components/arc:arc_features",
    "//ash/components/arc:arc_metrics_constants",
    "//ash/components/arc/input_overlay/resources",
    "//ash/components/arc/media_session",
    "//ash/components/arc/mojom:notifications",
    "//ash/components/arc/mojom:protected_buffer_manager",
    "//ash/keyboard/ui",
    "//ash/public/cpp/resources:ash_public_unscaled_resources",
    "//ash/quick_pair/feature_status_tracker",
    "//ash/resources/vector_icons",
    "//ash/strings",
    "//ash/style",
    "//ash/webui/boca_ui/resources",
    "//ash/webui/camera_app_ui:document_scanning",
    "//ash/webui/camera_app_ui:ocr",
    "//ash/webui/camera_app_ui:pdf_builder",
    "//ash/webui/camera_app_ui/resources/strings",
    "//ash/webui/common:sea_pen",
    "//ash/webui/connectivity_diagnostics/resources:resources",
    "//ash/webui/demo_mode_app_ui",
    "//ash/webui/diagnostics_ui",
    "//ash/webui/diagnostics_ui/resources:resources",
    "//ash/webui/file_manager:constants",
    "//ash/webui/file_manager:file_manager_untrusted_ui",
    "//ash/webui/file_manager/resources:file_manager_swa_resources",
    "//ash/webui/firmware_update_ui",
    "//ash/webui/firmware_update_ui/resources:resources",
    "//ash/webui/mall:app_id",
    "//ash/webui/mall:url_constants",
    "//ash/webui/mall/resources",
    "//ash/webui/media_app_ui:buildflags",
    "//ash/webui/os_feedback_ui",
    "//ash/webui/os_feedback_ui/mojom",
    "//ash/webui/os_feedback_ui/resources:resources",
    "//ash/webui/personalization_app/resources",
    "//ash/webui/print_management",
    "//ash/webui/print_management/backend:backend",
    "//ash/webui/print_management/resources",
    "//ash/webui/print_preview_cros",
    "//ash/webui/print_preview_cros/resources:resources",
    "//ash/webui/projector_app/public/cpp",
    "//ash/webui/resources:annotator_untrusted_resources",
    "//ash/webui/resources:camera_app_resources",
    "//ash/webui/resources:demo_mode_app_resources",
    "//ash/webui/resources:eche_bundle_resources",
    "//ash/webui/resources:help_app_resources",
    "//ash/webui/resources:media_app_bundle_resources",
    "//ash/webui/resources:media_app_resources",
    "//ash/webui/resources:projector_app_untrusted_resources",
    "//ash/webui/sanitize_ui/resources:resources",
    "//ash/webui/scanning/resources:resources",
    "//ash/webui/settings/public/constants:mojom",
    "//ash/webui/shimless_rma/resources:resources",
    "//ash/webui/shortcut_customization_ui/resources:resources",
    "//ash/webui/system_apps/public:system_web_app_config",
    "//ash/webui/system_apps/public:system_web_app_type",
    "//ash/webui/vc_background_ui/resources:resources",
    "//build:branding_buildflags",
    "//build/config/chromebox_for_meetings:buildflags",
    "//cc/base",
    "//cc/paint",
    "//chrome/app:branded_strings",
    "//chrome/app:command_ids",
    "//chrome/app:generated_resources",
    "//chrome/app/resources:locale_settings",
    "//chrome/app/theme:chrome_unscaled_resources",
    "//chrome/app/theme:theme_resources",
    "//chrome/browser:resources",
    "//chrome/browser/apps:user_type_filter",
    "//chrome/browser/apps/app_discovery_service",
    "//chrome/browser/apps/app_preload_service",
    "//chrome/browser/apps/app_service",
    "//chrome/browser/apps/app_service/app_icon",
    "//chrome/browser/apps/app_service/app_icon:util",
    "//chrome/browser/apps/platform_apps",
    "//chrome/browser/apps/platform_apps/api",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/accessibility/live_caption",
    "//chrome/browser/ash/accessibility/service",
    "//chrome/browser/ash/android_sms",
    "//chrome/browser/ash/app_mode",
    "//chrome/browser/ash/app_mode/auto_sleep",
    "//chrome/browser/ash/app_mode/web_app",
    "//chrome/browser/ash/app_restore",
    "//chrome/browser/ash/apps",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/accessibility",
    "//chrome/browser/ash/arc/adbd",
    "//chrome/browser/ash/arc/app_shortcuts",
    "//chrome/browser/ash/arc/auth",
    "//chrome/browser/ash/arc/bluetooth",
    "//chrome/browser/ash/arc/enterprise/cert_store",
    "//chrome/browser/ash/arc/file_system_watcher",
    "//chrome/browser/ash/arc/fileapi",
    "//chrome/browser/ash/arc/idle_manager",
    "//chrome/browser/ash/arc/input_method_manager",
    "//chrome/browser/ash/arc/instance_throttle",
    "//chrome/browser/ash/arc/intent_helper",
    "//chrome/browser/ash/arc/memory_pressure",
    "//chrome/browser/ash/arc/metrics",
    "//chrome/browser/ash/arc/nearby_share",
    "//chrome/browser/ash/arc/notification",
    "//chrome/browser/ash/arc/optin",
    "//chrome/browser/ash/arc/policy",
    "//chrome/browser/ash/arc/process",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/survey",
    "//chrome/browser/ash/arc/tracing",
    "//chrome/browser/ash/arc/video",
    "//chrome/browser/ash/arc/vmm",
    "//chrome/browser/ash/arc/window_predictor",
    "//chrome/browser/ash/assistant",
    "//chrome/browser/ash/attestation",
    "//chrome/browser/ash/attestation:attestation_proto",
    "//chrome/browser/ash/audio",
    "//chrome/browser/ash/authpolicy",
    "//chrome/browser/ash/base",
    "//chrome/browser/ash/bluetooth",
    "//chrome/browser/ash/bruschetta",
    "//chrome/browser/ash/camera",
    "//chrome/browser/ash/cert_provisioning",
    "//chrome/browser/ash/child_accounts",
    "//chrome/browser/ash/child_accounts/on_device_controls",
    "//chrome/browser/ash/child_accounts/parent_access_code",
    "//chrome/browser/ash/child_accounts/time_limits",
    "//chrome/browser/ash/crostini/ansible",
    "//chrome/browser/ash/crostini/throttle",
    "//chrome/browser/ash/cryptauth",
    "//chrome/browser/ash/customization",
    "//chrome/browser/ash/data_migration",
    "//chrome/browser/ash/device_name",
    "//chrome/browser/ash/device_sync",
    "//chrome/browser/ash/diagnostics",
    "//chrome/browser/ash/display",
    "//chrome/browser/ash/drive",
    "//chrome/browser/ash/early_prefs",
    "//chrome/browser/ash/eche_app",
    "//chrome/browser/ash/events",
    "//chrome/browser/ash/exo",
    "//chrome/browser/ash/extended_updates",
    "//chrome/browser/ash/extensions",
    "//chrome/browser/ash/extensions/autotest_private",
    "//chrome/browser/ash/extensions/file_manager",
    "//chrome/browser/ash/extensions/login_screen_ui",
    "//chrome/browser/ash/extensions/users_private",
    "//chrome/browser/ash/file_suggest",
    "//chrome/browser/ash/file_system_provider",
    "//chrome/browser/ash/file_system_provider/fileapi",
    "//chrome/browser/ash/first_run",
    "//chrome/browser/ash/floating_sso",
    "//chrome/browser/ash/floating_workspace",
    "//chrome/browser/ash/fusebox",
    "//chrome/browser/ash/geolocation",
    "//chrome/browser/ash/growth",
    "//chrome/browser/ash/guest_os",
    "//chrome/browser/ash/guest_os/infra",
    "//chrome/browser/ash/guest_os/public",
    "//chrome/browser/ash/guest_os/virtual_machines",
    "//chrome/browser/ash/hats",
    "//chrome/browser/ash/input_method",
    "//chrome/browser/ash/kcer",
    "//chrome/browser/ash/kcer/nssdb_migration",
    "//chrome/browser/ash/kerberos",
    "//chrome/browser/ash/language_packs",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login",
    "//chrome/browser/ash/login/auth",
    "//chrome/browser/ash/login/demo_mode",
    "//chrome/browser/ash/login/enrollment",
    "//chrome/browser/ash/login/extensions",
    "//chrome/browser/ash/login/lock",
    "//chrome/browser/ash/login/lock/online_reauth",
    "//chrome/browser/ash/login/osauth",
    "//chrome/browser/ash/login/quick_unlock",
    "//chrome/browser/ash/login/reporting",
    "//chrome/browser/ash/login/saml",
    "//chrome/browser/ash/login/screens",
    "//chrome/browser/ash/login/screens/chromevox_hint",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/signin",
    "//chrome/browser/ash/login/smart_lock",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/login/users",
    "//chrome/browser/ash/login/users/avatar",
    "//chrome/browser/ash/magic_boost",
    "//chrome/browser/ash/mahi",
    "//chrome/browser/ash/mahi/media_app",
    "//chrome/browser/ash/mobile",
    "//chrome/browser/ash/mojo_service_manager",
    "//chrome/browser/ash/multidevice_debug",
    "//chrome/browser/ash/multidevice_setup",
    "//chrome/browser/ash/nearby",
    "//chrome/browser/ash/nearby/presence",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/net/dns_over_https",
    "//chrome/browser/ash/net/network_diagnostics",
    "//chrome/browser/ash/net/network_health",
    "//chrome/browser/ash/net/rollback_network_config",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/os_feedback",
    "//chrome/browser/ash/ownership",
    "//chrome/browser/ash/pcie_peripheral",
    "//chrome/browser/ash/phonehub",
    "//chrome/browser/ash/platform_keys",
    "//chrome/browser/ash/platform_keys/key_permissions",
    "//chrome/browser/ash/plugin_vm",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/dlp",
    "//chrome/browser/ash/policy/dlp/dialogs",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/external_data",
    "//chrome/browser/ash/policy/external_data/handlers",
    "//chrome/browser/ash/policy/handlers",
    "//chrome/browser/ash/policy/invalidation",
    "//chrome/browser/ash/policy/remote_commands",
    "//chrome/browser/ash/policy/reporting",
    "//chrome/browser/ash/policy/reporting/metrics_reporting",
    "//chrome/browser/ash/policy/reporting/user_added_removed",
    "//chrome/browser/ash/power",
    "//chrome/browser/ash/power/auto_screen_brightness",
    "//chrome/browser/ash/power/ml",
    "//chrome/browser/ash/power/ml:user_activity_ukm_logger_helpers",
    "//chrome/browser/ash/power/smart_charging",
    "//chrome/browser/ash/printing",
    "//chrome/browser/ash/printing/enterprise",
    "//chrome/browser/ash/printing/enterprise:managed_printer_proto",
    "//chrome/browser/ash/printing/oauth2",
    "//chrome/browser/ash/printing/print_management",
    "//chrome/browser/ash/printing/print_preview",
    "//chrome/browser/ash/profiles",
    "//chrome/browser/ash/quick_pair",
    "//chrome/browser/ash/release_notes",
    "//chrome/browser/ash/scalable_iph",
    "//chrome/browser/ash/scanning",
    "//chrome/browser/ash/secure_channel",
    "//chrome/browser/ash/sharesheet",
    "//chrome/browser/ash/shimless_rma",
    "//chrome/browser/ash/sync",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ash/system_web_apps/apps/camera_app",
    "//chrome/browser/ash/system_web_apps/apps/media_app",
    "//chrome/browser/ash/system_web_apps/apps/personalization_app",
    "//chrome/browser/ash/tether",
    "//chrome/browser/ash/trusted_vault",
    "//chrome/browser/ash/video_conference",
    "//chrome/browser/ash/wallpaper",
    "//chrome/browser/ash/wallpaper_handlers",
    "//chrome/browser/autofill",
    "//chrome/browser/browsing_data:constants",
    "//chrome/browser/chromeos/arc",
    "//chrome/browser/chromeos/drivefs",
    "//chrome/browser/crash_upload_list",
    "//chrome/browser/devtools",
    "//chrome/browser/favicon",
    "//chrome/browser/google",
    "//chrome/browser/icon_transcoder",
    "//chrome/browser/image_fetcher",
    "//chrome/browser/metrics/structured:features",
    "//chrome/browser/nearby_sharing/common",
    "//chrome/browser/pdf:pdf_pref_names",
    "//chrome/browser/pdf:pdf_service",
    "//chrome/browser/policy:onc",
    "//chrome/browser/resources:component_extension_resources",
    "//chrome/browser/resources/ash/settings:resources",
    "//chrome/browser/resources/chromeos:app_icon_resources",
    "//chrome/browser/scalable_iph:scalable_iph_factory",
    "//chrome/browser/screen_ai:screen_ai_dlc_installer",
    "//chrome/browser/screen_ai/public:optical_character_recognizer",
    "//chrome/browser/search_engines",
    "//chrome/browser/sync",
    "//chrome/browser/themes",
    "//chrome/browser/ui/ash/assistant",
    "//chrome/browser/ui/ash/birch",
    "//chrome/browser/ui/ash/calendar",
    "//chrome/browser/ui/ash/desks",
    "//chrome/browser/ui/ash/device_scheduled_reboot",
    "//chrome/browser/ui/ash/glanceables",
    "//chrome/browser/ui/ash/global_media_controls",
    "//chrome/browser/ui/ash/holding_space",
    "//chrome/browser/ui/ash/keyboard",
    "//chrome/browser/ui/ash/system_web_apps",
    "//chrome/browser/ui/webui/ash/cloud_upload:mojo_bindings_shared",
    "//chrome/browser/ui/webui/ash/crostini_upgrader:mojo_bindings",
    "//chrome/browser/webshare:storage",
    "//chrome/common:channel_info",
    "//chrome/common:non_code_constants",
    "//chrome/common/apps/platform_apps/api",
    "//chrome/common/chromeos/extensions",
    "//chrome/common/net",
    "//chrome/services/media_gallery_util/public/mojom",
    "//chromeos/ash/components/account_manager",
    "//chromeos/ash/components/assistant:buildflags",
    "//chromeos/ash/components/borealis",
    "//chromeos/ash/components/carrier_lock",
    "//chromeos/ash/components/chaps_util",
    "//chromeos/ash/components/data_migration",
    "//chromeos/ash/components/data_migration:constants",
    "//chromeos/ash/components/dbus",
    "//chromeos/ash/components/dbus:plugin_vm_service_proto",
    "//chromeos/ash/components/dbus:vm_permission_service_proto",
    "//chromeos/ash/components/dbus:vm_sk_forwarding_proto",
    "//chromeos/ash/components/dbus/arc",
    "//chromeos/ash/components/dbus/arc:arcvm_data_migrator_proto_lib",
    "//chromeos/ash/components/dbus/audio",
    "//chromeos/ash/components/dbus/biod",
    "//chromeos/ash/components/dbus/biod:biod_proto",
    "//chromeos/ash/components/dbus/cdm_factory_daemon",
    "//chromeos/ash/components/dbus/cec_service",
    "//chromeos/ash/components/dbus/chaps",
    "//chromeos/ash/components/dbus/cicerone",
    "//chromeos/ash/components/dbus/cryptohome:attestation_proto",
    "//chromeos/ash/components/dbus/cups_proxy",
    "//chromeos/ash/components/dbus/dlcservice:dlcservice_proto",
    "//chromeos/ash/components/dbus/easy_unlock",
    "//chromeos/ash/components/dbus/featured",
    "//chromeos/ash/components/dbus/federated",
    "//chromeos/ash/components/dbus/fwupd",
    "//chromeos/ash/components/dbus/human_presence",
    "//chromeos/ash/components/dbus/image_burner",
    "//chromeos/ash/components/dbus/image_loader",
    "//chromeos/ash/components/dbus/kerberos",
    "//chromeos/ash/components/dbus/media_analytics",
    "//chromeos/ash/components/dbus/oobe_config",
    "//chromeos/ash/components/dbus/patchpanel",
    "//chromeos/ash/components/dbus/pciguard",
    "//chromeos/ash/components/dbus/printscanmgr",
    "//chromeos/ash/components/dbus/private_computing",
    "//chromeos/ash/components/dbus/rgbkbd",
    "//chromeos/ash/components/dbus/rmad",
    "//chromeos/ash/components/dbus/runtime_probe",
    "//chromeos/ash/components/dbus/spaced",
    "//chromeos/ash/components/dbus/system_proxy",
    "//chromeos/ash/components/dbus/update_engine:proto",
    "//chromeos/ash/components/dbus/upstart",
    "//chromeos/ash/components/dbus/virtual_file_provider",
    "//chromeos/ash/components/demo_mode",
    "//chromeos/ash/components/early_prefs:reader",
    "//chromeos/ash/components/fwupd",
    "//chromeos/ash/components/growth",
    "//chromeos/ash/components/growth:config_provider",
    "//chromeos/ash/components/kiosk/vision",
    "//chromeos/ash/components/local_search_service/public/cpp",
    "//chromeos/ash/components/mojo_service_manager",
    "//chromeos/ash/components/multidevice:stub_multidevice_util",
    "//chromeos/ash/components/multidevice/logging",
    "//chromeos/ash/components/peripheral_notification",
    "//chromeos/ash/components/power",
    "//chromeos/ash/components/report",
    "//chromeos/ash/components/report:fresnel_service_proto",
    "//chromeos/ash/components/report:utils",
    "//chromeos/ash/components/scalable_iph",
    "//chromeos/ash/components/scalable_iph:buildflags",
    "//chromeos/ash/components/scalable_iph:constants",
    "//chromeos/ash/components/scalable_iph:iph_session",
    "//chromeos/ash/components/scalable_iph:logger",
    "//chromeos/ash/components/scalable_iph:scalable_iph_delegate",
    "//chromeos/ash/components/standalone_browser",
    "//chromeos/ash/components/sync_wifi",
    "//chromeos/ash/components/tpm",
    "//chromeos/ash/components/tpm:buildflags",
    "//chromeos/ash/resources:resources_grit",
    "//chromeos/ash/services/assistant:lib",
    "//chromeos/ash/services/assistant/public/cpp",
    "//chromeos/ash/services/bluetooth_config:in_process_bluetooth_config",
    "//chromeos/ash/services/cros_healthd/private/cpp",
    "//chromeos/ash/services/device_sync",
    "//chromeos/ash/services/device_sync:stub_device_sync",
    "//chromeos/ash/services/federated/public/mojom",
    "//chromeos/ash/services/ime:constants",
    "//chromeos/ash/services/multidevice_setup/public/cpp:oobe_completion_tracker",
    "//chromeos/ash/services/multidevice_setup/public/cpp:prefs",
    "//chromeos/ash/services/network_config",
    "//chromeos/ash/services/network_config:in_process_instance",
    "//chromeos/ash/services/network_health:in_process_instance",
    "//chromeos/ash/services/quick_pair/public/mojom",
    "//chromeos/ash/services/secure_channel",
    "//chromeos/ash/services/secure_channel/public/cpp/shared",
    "//chromeos/ash/services/wifi_direct",
    "//chromeos/components/cdm_factory_daemon:cdm_factory_daemon_browser",
    "//chromeos/components/cdm_factory_daemon/mojom",
    "//chromeos/components/certificate_provider",
    "//chromeos/components/disks:prefs",
    "//chromeos/components/kcer",
    "//chromeos/components/kcer:chaps_proto",
    "//chromeos/components/kiosk",
    "//chromeos/components/magic_boost/public/cpp",
    "//chromeos/components/mgs",
    "//chromeos/components/mojo_bootstrap",
    "//chromeos/components/quick_answers/public/cpp:prefs",
    "//chromeos/components/sensors",
    "//chromeos/constants",
    "//chromeos/crosapi/cpp",
    "//chromeos/dbus/constants",
    "//chromeos/dbus/dlp",
    "//chromeos/dbus/init",
    "//chromeos/dbus/ip_peripheral",
    "//chromeos/dbus/machine_learning",
    "//chromeos/dbus/permission_broker",
    "//chromeos/dbus/regmon",
    "//chromeos/dbus/u2f",
    "//chromeos/ime:gencode",
    "//chromeos/services/machine_learning/public/cpp",
    "//chromeos/strings",
    "//chromeos/ui/frame",
    "//chromeos/ui/vector_icons",
    "//chromeos/ui/wm",
    "//chromeos/utils",
    "//chromeos/version",
    "//components/app_constants",
    "//components/arc/common:arc_intent_helper_constants",
    "//components/component_updater",
    "//components/component_updater/ash",
    "//components/consent_auditor",
    "//components/constrained_window",
    "//components/content_settings/core/common",
    "//components/country_codes",
    "//components/crash/core/app",
    "//components/crash/core/common",
    "//components/crash/core/common:crash_key",
    "//components/cross_device/logging:logging",
    "//components/crx_file",
    "//components/device_event_log",
    "//components/download/public/common:public",
    "//components/drive:drive_chromeos",
    "//components/embedder_support:browser_util",
    "//components/enterprise",
    "//components/exo/server",
    "//components/favicon/core",
    "//components/favicon_base",
    "//components/feature_engagement/public",
    "//components/feedback/content",
    "//components/feedback/proto",
    "//components/google/core/common",
    "//components/guest_os:prefs",
    "//components/image_fetcher/core",
    "//components/input",
    "//components/invalidation/impl",
    "//components/language/core/browser",
    "//components/language/core/common",
    "//components/live_caption",
    "//components/live_caption:constants",
    "//components/live_caption:utils",
    "//components/manta",
    "//components/manta/proto",
    "//components/metrics:serialization",
    "//components/omnibox/browser:location_bar",
    "//components/password_manager/core/browser",
    "//components/password_manager/core/browser:hash_password_manager",
    "//components/permissions",
    "//components/policy:generated",
    "//components/policy/core/common:util",
    "//components/proxy_config",
    "//components/qr_code_generator:bitmap_generator",
    "//components/quirks",
    "//components/reporting/client:report_queue_factory",
    "//components/reporting/proto:interface_proto",
    "//components/reporting/proto:status_proto",
    "//components/reporting/util:rate_limiter_slide_window",
    "//components/reporting/util:status",
    "//components/safe_browsing/core/common:safe_browsing_prefs",
    "//components/search_engines",
    "//components/services/app_service",
    "//components/services/filesystem/public/mojom",
    "//components/services/unzip/content",
    "//components/services/unzip/public/mojom",
    "//components/signin/public/base",
    "//components/site_engagement/content",
    "//components/spellcheck/browser",
    "//components/startup_metric_utils",
    "//components/strings:components_strings",
    "//components/supervised_user/core/browser",
    "//components/supervised_user/core/common",
    "//components/sync/base",
    "//components/sync/chromeos",
    "//components/sync/engine",
    "//components/sync/protocol:util",
    "//components/sync_sessions",
    "//components/tracing:startup_tracing",
    "//components/translate/core/browser",
    "//components/ukm",
    "//components/ukm:ukm_recorder",
    "//components/unified_consent",
    "//components/update_client",
    "//components/user_prefs",
    "//components/variations",
    "//components/vector_icons",
    "//components/version_info:channel",
    "//components/viz/host",
    "//components/web_package",
    "//components/web_resource",
    "//components/webapps/browser",
    "//components/webapps/browser:constants",
    "//components/webapps/common",
    "//components/zoom",
    "//content/public/common",
    "//content/public/common:main_function_params",
    "//extensions:extensions_browser_resources",
    "//extensions/browser/api/feedback_private",
    "//extensions/browser/api/file_handlers",
    "//extensions/browser/api/lock_screen_data",
    "//extensions/browser/api/messaging",
    "//extensions/browser/api/runtime",
    "//extensions/browser/api/storage",
    "//extensions/browser/api/virtual_keyboard_private",
    "//extensions/browser/api/virtual_keyboard_private:virtual_keyboard_delegate",
    "//extensions/common:common_constants",
    "//extensions/common:mojom",
    "//gpu/command_buffer/client:raster_interface",
    "//gpu/command_buffer/common",
    "//gpu/command_buffer/service",
    "//gpu/config",
    "//gpu/ipc/common",
    "//gpu/ipc/common:memory_stats_sources",
    "//ipc",
    "//ipc:message_support",
    "//media",
    "//media/capture:capture_lib",
    "//media/capture:capture_switches",
    "//media/capture/video/chromeos/mojom:cros_camera",
    "//media/capture/video/chromeos/public",
    "//media/mojo/mojom",
    "//mojo/core/embedder",
    "//mojo/public/c/system:headers",
    "//mojo/public/cpp/bindings:struct_traits",
    "//mojo/public/mojom/base",
    "//pdf:buildflags",
    "//printing/buildflags",
    "//printing/mojom",
    "//remoting/host/chromeos:features",
    "//remoting/host/chromeos:remoting_service",
    "//rlz/buildflags",
    "//sandbox/policy",
    "//services/accessibility:buildflags",
    "//services/accessibility/android:android_lib",
    "//services/audio/public/cpp",
    "//services/device/public/cpp/geolocation",
    "//services/device/public/cpp/usb",
    "//services/metrics/public/cpp:gen_ukm_builders",
    "//services/network:network_service",
    "//services/preferences/public/cpp",
    "//services/service_manager/public/cpp",
    "//services/tracing/public/mojom",
    "//sql:sql",
    "//third_party/blink/public/common:headers",
    "//third_party/libipp",
    "//third_party/protobuf:protobuf_lite",
    "//third_party/re2",
    "//third_party/securemessage/proto",
    "//third_party/zlib",
    "//third_party/zlib/google:compression_utils",
    "//third_party/zlib/google:zip",
    "//ui/accessibility",
    "//ui/accessibility:ax_enums_mojo",
    "//ui/base/clipboard:clipboard_types",
    "//ui/base/clipboard:file_info",
    "//ui/base/data_transfer_policy",
    "//ui/base/emoji",
    "//ui/base/ime:text_input_types",
    "//ui/chromeos",
    "//ui/chromeos/resources",
    "//ui/chromeos/strings",
    "//ui/chromeos/styles:cros_tokens_color_mappings",
    "//ui/color",
    "//ui/color:color_headers",
    "//ui/color:mixers",
    "//ui/content_accelerators",
    "//ui/events:event_constants",
    "//ui/events/blink",
    "//ui/file_manager:resources",
    "//ui/file_manager/base/gn:file_types_data_cpp",
    "//ui/gfx:color_utils",
    "//ui/gfx:gfx_switches",
    "//ui/gfx:memory_buffer",
    "//ui/gfx/codec",
    "//ui/gfx/geometry:geometry_skia",
    "//ui/gl",
    "//ui/message_center",
    "//ui/native_theme",
    "//ui/ozone",
    "//ui/strings:ui_strings",
    "//ui/wm",
  ]

  data_deps = [
    ":mojo_service_manager_policy",
    "//chrome/browser/ash/dbus:dbus_service_files",
  ]

  if (enable_rlz) {
    deps += [ "//components/rlz" ]
  }

  if (is_cfm) {
    deps += [
      "//chrome/browser/ash/chromebox_for_meetings",
      "//chrome/browser/ash/chromebox_for_meetings/device_info",
      "//chrome/browser/ash/chromebox_for_meetings/logger",
      "//chromeos/ash/components/chromebox_for_meetings",
    ]
    allow_circular_includes_from += [
      "//chrome/browser/ash/chromebox_for_meetings/device_info",
      "//chrome/browser/ash/chromebox_for_meetings/logger",
    ]
  }
}

copy("mojo_service_manager_policy") {
  sources = [ "net/network_health/network_health_service_policy.json" ]
  outputs = [ "$root_out_dir/mojo_service_manager/{{source_file_part}}" ]
}

static_library("test_support") {
  testonly = true
  sources = [
    "policy/affiliation/affiliation_mixin.cc",
    "policy/affiliation/affiliation_mixin.h",
    "policy/affiliation/affiliation_test_helper.cc",
    "policy/affiliation/affiliation_test_helper.h",
    "policy/arc/fake_android_management_client.cc",
    "policy/arc/fake_android_management_client.h",
    "policy/login/signin_profile_extensions_policy_test_base.cc",
    "policy/login/signin_profile_extensions_policy_test_base.h",
    "policy/test_support/embedded_policy_test_server_mixin.cc",
    "policy/test_support/embedded_policy_test_server_mixin.h",
    "policy/test_support/policy_test_server_constants.h",
    "policy/test_support/remote_commands_service_mixin.cc",
    "policy/test_support/remote_commands_service_mixin.h",
    "scoped_test_system_nss_key_slot_mixin.cc",
    "scoped_test_system_nss_key_slot_mixin.h",
    "settings/device_settings_test_helper.cc",
    "settings/device_settings_test_helper.h",
    "settings/scoped_cros_settings_test_helper.cc",
    "settings/scoped_cros_settings_test_helper.h",
    "settings/scoped_testing_cros_settings.cc",
    "settings/scoped_testing_cros_settings.h",
  ]

  allow_circular_includes_from = [
    "//chrome/test:test_support",
    "//chrome/test:test_support_ui",
    "//chrome/browser/ash/app_list/arc:test_support",
    "//chrome/browser/ash/login/demo_mode:test_support",
    "//chrome/browser/ash/login/test:test_support",
    "//chrome/browser/ash/policy/core:test_support",

    # TODO(b/335294101): Remove and depend on c/b/a/settings/ test support in c/b/a/scalable_iph:test_support.
    "//chrome/browser/ash/scalable_iph:test_support",
  ]

  public_deps = [
    ":ash",
    "//ash:test_support",
    "//ash/components/arc/mojom",
    "//ash/public/cpp",
    "//ash/webui/shortcut_customization_ui/backend/search:mojo_bindings",
    "//base",
    "//base/test:test_support",
    "//build:chromeos_buildflags",
    "//chrome/browser",
    "//chrome/browser/ash/app_list/arc:test_support",
    "//chrome/browser/ash/drive:test_support",
    "//chrome/browser/ash/login/demo_mode:test_support",
    "//chrome/browser/ash/login/session:test_support",
    "//chrome/browser/ash/login/test:test_support",
    "//chrome/browser/ash/printing/history:test_support",
    "//chrome/browser/ui",
    "//chrome/browser/web_applications",
    "//chrome/test:test_support",
    "//chrome/test:test_support_ui",
    "//chromeos/ash/components/dbus:vm_applications_apps_proto",
    "//chromeos/ash/components/dbus/cicerone",
    "//chromeos/ash/components/dbus/cicerone:cicerone_proto",
    "//chromeos/ash/components/dbus/concierge",
    "//chromeos/ash/components/dbus/constants",
    "//chromeos/ash/components/dbus/cros_disks",
    "//chromeos/ash/components/dbus/cryptohome:cryptohome_proto",
    "//chromeos/ash/components/dbus/lorgnette_manager",
    "//chromeos/ash/components/dbus/lorgnette_manager:lorgnette_proto",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/dbus/userdataauth",
    "//chromeos/ash/components/dbus/userdataauth:test_support",
    "//chromeos/ash/components/disks",
    "//chromeos/ash/components/drivefs",
    "//chromeos/ash/components/drivefs:test_support",
    "//chromeos/ash/components/install_attributes",
    "//chromeos/ash/components/install_attributes:test_support",
    "//chromeos/ash/components/login/auth",
    "//chromeos/ash/components/login/auth/public:authpublic",
    "//chromeos/ash/components/quick_start:test_support",
    "//chromeos/ash/components/settings",
    "//chromeos/ash/components/system",
    "//chromeos/ash/services/ime/public/cpp:structs",
    "//chromeos/ash/services/multidevice_setup/public/cpp:test_support",
    "//chromeos/printing",
    "//components/account_id",
    "//components/desks_storage:test_support",
    "//components/keyed_service/core",
    "//components/login",
    "//components/manta/proto",
    "//components/ownership",
    "//components/policy:generated",
    "//components/policy/core/common:common_constants",
    "//components/policy/core/common:test_support",
    "//components/policy/proto",
    "//components/reporting/storage:test_support",
    "//components/sync/model",
    "//components/sync/protocol",
    "//components/version_info:channel",
    "//content/public/browser",
    "//content/test:test_support",
    "//crypto:test_support",
    "//extensions:test_support",
    "//extensions/browser/api/messaging:native_messaging",
    "//extensions/browser/updater",
    "//extensions/common",
    "//extensions/common:mojom",
    "//google_apis",
    "//mojo/public/cpp/bindings",
    "//net",
    "//net:test_support",
    "//services/accessibility/android:test_support",
    "//services/accessibility/public/mojom:mojom",
    "//storage/browser",
    "//testing/gmock",
    "//testing/gtest",
    "//third_party/abseil-cpp:absl",
    "//third_party/private_membership:private_membership_proto",
    "//third_party/shell-encryption:shell_encryption",
    "//ui/accessibility:ax_base",
    "//ui/aura",
    "//ui/base:test_support",
    "//ui/base/ime",
    "//ui/base/ime/ash",
    "//ui/gfx/geometry",
    "//url",
  ]

  deps = [
    "//ash",
    "//ash/components/arc:arc_base_utils",
    "//ash/components/arc:arc_test_support",
    "//ash/components/arc:notification_test_support",
    "//ash/components/arc/session",
    "//ash/constants",
    "//base/test:test_config",
    "//chrome/browser:browser_process",
    "//chrome/browser:main_extra_parts",
    "//chrome/browser/apps/app_service",
    "//chrome/browser/apps/app_service/app_icon",
    "//chrome/browser/apps/app_service/app_icon:util",
    "//chrome/browser/ash/app_mode:test_support",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/test:arc_test_support",
    "//chrome/browser/ash/attestation:test_support",
    "//chrome/browser/ash/child_accounts:test_support",
    "//chrome/browser/ash/extensions",
    "//chrome/browser/ash/file_system_provider",
    "//chrome/browser/ash/file_system_provider:test_support",
    "//chrome/browser/ash/guest_os",
    "//chrome/browser/ash/guest_os/public",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/net/network_diagnostics",
    "//chrome/browser/ash/ownership",
    "//chrome/browser/ash/plugin_vm:test_support",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/core:test_support",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/enrollment:test_support",
    "//chrome/browser/ash/policy/external_data:test_support",
    "//chrome/browser/ash/printing:test_support",
    "//chrome/browser/ash/printing/history:print_job_info_proto",
    "//chrome/browser/ash/printing/history:test_support",
    "//chrome/browser/ash/printing/oauth2",
    "//chrome/browser/ash/printing/oauth2:test_support",
    "//chrome/browser/ash/scalable_iph",
    "//chrome/browser/ash/scalable_iph:test_support",
    "//chrome/browser/ash/scanning:test_support",
    "//chrome/browser/ash/secure_channel:test_support",
    "//chrome/browser/ash/wallpaper_handlers:test_support",
    "//chrome/browser/extensions",
    "//chrome/browser/extensions:test_support",
    "//chrome/browser/sync",
    "//chrome/browser/ui/ash/system_web_apps",
    "//chrome/browser/web_applications:web_applications_test_support",
    "//chrome/common",
    "//chrome/common:chrome_features",
    "//chrome/common:constants",
    "//chrome/common:non_code_constants",
    "//chromeos/ash/components/attestation:test_support",
    "//chromeos/ash/components/browser_context_helper",
    "//chromeos/ash/components/chaps_util",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus:vm_launch_proto",
    "//chromeos/ash/components/dbus/chunneld",
    "//chromeos/ash/components/dbus/dlcservice",
    "//chromeos/ash/components/dbus/oobe_config",
    "//chromeos/ash/components/dbus/seneschal",
    "//chromeos/ash/components/kiosk/vision",
    "//chromeos/ash/components/login/login_state",
    "//chromeos/dbus/constants",
    "//chromeos/dbus/tpm_manager",
    "//components/arc",
    "//components/arc:arc_test_support",
    "//components/component_updater/ash:test_support",
    "//components/crx_file",
    "//components/drive",
    "//components/exo",
    "//components/policy/core/browser",
    "//components/policy/core/common",
    "//components/policy/test_support",
    "//components/privacy_sandbox:features",
    "//components/services/app_service/public/cpp:test_support",
    "//components/services/filesystem/public/mojom",
    "//components/sync/base",
    "//components/sync/service",
    "//components/webapps/common",
    "//crypto",
    "//extensions/browser",
    "//extensions/common:common_constants",
    "//skia",
    "//third_party/private_membership",
    "//third_party/re2",
    "//ui/base",
    "//ui/chromeos/resources",
    "//ui/display/types",
    "//ui/events:test_support",
    "//ui/gfx",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/views/controls/webview",
    "//ui/wm",
  ]
}

source_set("unit_tests") {
  testonly = true

  sources = [
    "../download/notification/multi_profile_download_notifier_unittest.cc",
    "../extensions/api/enterprise_platform_keys/enterprise_platform_keys_api_unittest.cc",
    "../extensions/api/enterprise_platform_keys_private/enterprise_platform_keys_private_api_unittest.cc",
    "../extensions/updater/local_extension_cache_unittest.cc",
    "../memory/memory_kills_monitor_unittest.cc",
    "../memory/oom_kills_monitor_unittest.cc",
    "../metrics/chromeos_system_profile_provider_unittest.cc",
    "../metrics/cros_healthd_metrics_provider_unittest.cc",
    "../metrics/perf/cpu_identity_unittest.cc",
    "../metrics/perf/random_selector_unittest.cc",
    "../policy/default_geolocation_policy_handler_unittest.cc",
    "../ui/browser_finder_chromeos_unittest.cc",
    "../ui/views/select_file_dialog_extension_unittest.cc",
    "../ui/webui/ash/cloud_upload/cloud_open_metrics_unittest.cc",
    "../ui/webui/ash/cloud_upload/cloud_upload_notification_manager_unittest.cc",
    "../ui/webui/ash/login/l10n_util_test_util.cc",
    "../ui/webui/ash/login/l10n_util_test_util.h",
    "../ui/webui/ash/login/l10n_util_unittest.cc",
    "../ui/webui/ash/login/oobe_display_chooser_unittest.cc",
    "../ui/webui/ash/login/signin_userlist_unittest.cc",
    "../ui/webui/ash/settings/calculator/size_calculator_test_api.h",
    "../ui/webui/ash/settings/os_settings_features_util_unittest.cc",
    "../ui/webui/ash/settings/pages/a11y/accessibility_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/about/device_name_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/apps/app_notification_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/apps/mojom/app_type_mojom_traits_unittest.cc",
    "../ui/webui/ash/settings/pages/bluetooth/bluetooth_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/bluetooth/fast_pair_saved_devices_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/crostini/crostini_section_unittest.cc",
    "../ui/webui/ash/settings/pages/device/device_keyboard_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/device/device_section_unittest.cc",
    "../ui/webui/ash/settings/pages/device/display_settings/display_settings_provider_unittest.cc",
    "../ui/webui/ash/settings/pages/device/input_device_settings/input_device_settings_provider_unittest.cc",
    "../ui/webui/ash/settings/pages/device/inputs_section_unittest.cc",
    "../ui/webui/ash/settings/pages/internet/internet_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/main/os_settings_hats_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/main/send_search_feedback_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/multidevice/multidevice_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/multidevice/multidevice_section_unittest.cc",
    "../ui/webui/ash/settings/pages/os_settings_section_unittest.cc",
    "../ui/webui/ash/settings/pages/personalization/personalization_section_unittest.cc",
    "../ui/webui/ash/settings/pages/privacy/app_permission_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/privacy/metrics_consent_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/privacy/privacy_hub_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/search/search_engines_handler_unittest.cc",
    "../ui/webui/ash/settings/pages/storage/device_storage_handler_unittest.cc",
    "../ui/webui/ash/settings/search/hierarchy_unittest.cc",
    "../ui/webui/ash/settings/search/search_handler_unittest.cc",
    "../ui/webui/ash/settings/search/search_tag_registry_unittest.cc",
    "../ui/webui/ash/settings/services/metrics/per_session_settings_user_action_tracker_unittest.cc",
    "../ui/webui/ash/settings/services/metrics/settings_user_action_tracker_unittest.cc",
    "../ui/webui/ash/settings/services/settings_manager/os_settings_manager_unittest.cc",
    "../ui/webui/settings/about_handler_unittest.cc",
    "camera_presence_notifier_unittest.cc",
    "concierge_helper_service_unittest.cc",
    "dbus_schedqos_state_handler_unittest.cc",
    "eol_notification_unittest.cc",
    "external_metrics_unittest.cc",
    "locale_change_guard_unittest.cc",
    "network_change_manager_client_unittest.cc",
    "note_taking_helper_unittest.cc",
    "policy/arc/android_management_client_unittest.cc",
    "policy/networking/euicc_status_uploader_unittest.cc",
    "policy/off_hours/device_off_hours_controller_unittest.cc",
    "policy/off_hours/off_hours_policy_applier_unittest.cc",
    "policy/off_hours/off_hours_proto_parser_unittest.cc",
    "policy/rsu/lookup_key_uploader_unittest.cc",
    "policy/server_backed_state/server_backed_state_keys_broker_unittest.cc",
    "policy/status_collector/activity_storage_unittest.cc",
    "policy/status_collector/app_info_generator_unittest.cc",
    "policy/status_collector/enterprise_activity_storage_unittest.cc",
    "policy/status_collector/managed_session_service_unittest.cc",
    "policy/uploading/heartbeat_scheduler_unittest.cc",
    "policy/uploading/status_uploader_unittest.cc",
    "policy/uploading/system_log_uploader_unittest.cc",
    "policy/uploading/upload_job_unittest.cc",
    "preferences_unittest.cc",
    "process_snapshot_server_unittest.cc",
    "proxy_config_service_impl_unittest.cc",
    "report_controller_initializer_unittest.cc",
    "scheduler_configuration_manager_unittest.cc",
    "session_length_limiter_unittest.cc",
    "settings/cros_settings_unittest.cc",
    "settings/device_settings_cache_unittest.cc",
    "settings/device_settings_provider_unittest.cc",
    "settings/device_settings_service_unittest.cc",
    "settings/session_manager_operation_unittest.cc",
    "settings/shutdown_policy_handler_unittest.cc",
    "settings/stats_reporting_controller_unittest.cc",
    "settings/stub_cros_settings_provider_unittest.cc",
    "settings/token_encryptor_unittest.cc",
    "startup_settings_cache_unittest.cc",
    "system_token_cert_db_initializer_unittest.cc",
    "throttle_observer_unittest.cc",
    "throttle_service_unittest.cc",
    "tpm_firmware_update_unittest.cc",
  ]

  deps = [
    ":add_remove_user_event_proto",
    ":app_install_events_proto",
    ":ash",
    ":lock_unlock_event_proto",
    ":test_support",
    "//ash",
    "//ash:test_support",
    "//ash/app_list/model:app_list_model",
    "//ash/components/arc",
    "//ash/components/arc:arc_base",
    "//ash/components/arc:arc_base_utils",
    "//ash/components/arc:arc_features",
    "//ash/components/arc:arc_metrics_constants",
    "//ash/components/arc:arc_test_support",
    "//ash/components/arc:compat_mode_test_support",
    "//ash/components/arc:notification_test_support",
    "//ash/components/arc:prefs",
    "//ash/components/arc/mojom",
    "//ash/components/arc/session",
    "//ash/components/arc/session:arc_base_enums",
    "//ash/components/arc/session:connection_holder",
    "//ash/constants",
    "//ash/public/cpp",
    "//ash/public/cpp:test_support",
    "//ash/public/cpp/app_list/vector_icons",
    "//ash/public/cpp/assistant/test_support",
    "//ash/public/cpp/external_arc",
    "//ash/public/cpp/external_arc:test_support",
    "//ash/public/mojom",
    "//ash/quick_pair/common",
    "//ash/quick_pair/common:test_support",
    "//ash/quick_pair/proto:fastpair_proto",
    "//ash/quick_pair/repository",
    "//ash/quick_pair/repository:test_support",
    "//ash/strings",
    "//ash/webui/eche_app_ui:test_support",
    "//ash/webui/file_manager:constants",
    "//ash/webui/file_manager:file_manager_ui",
    "//ash/webui/file_manager:file_manager_untrusted_ui",
    "//ash/webui/help_app_ui",
    "//ash/webui/scanning",
    "//ash/webui/scanning/mojom",
    "//ash/webui/settings/public/constants:mojom",
    "//base",
    "//base:i18n",
    "//base/test:test_config",
    "//base/test:test_support",
    "//build:branding_buildflags",
    "//build:chromeos_buildflags",
    "//cc/base",
    "//chrome/app:command_ids",
    "//chrome/app:generated_resources",
    "//chrome/app/vector_icons",
    "//chrome/browser",
    "//chrome/browser:browser_process",
    "//chrome/browser/apps:icon_standardizer",
    "//chrome/browser/apps/app_discovery_service",
    "//chrome/browser/apps/app_preload_service",
    "//chrome/browser/apps/app_service:constants",
    "//chrome/browser/apps/app_service:test_support",
    "//chrome/browser/apps/app_service/app_icon",
    "//chrome/browser/apps/app_service/app_icon:util",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/app_list/search/ranking:proto",
    "//chrome/browser/ash/app_list/search/util:proto",
    "//chrome/browser/ash/app_list/vector_icons",
    "//chrome/browser/ash/app_mode:test_support",
    "//chrome/browser/ash/app_restore",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/fileapi",
    "//chrome/browser/ash/arc/input_overlay/db/proto",
    "//chrome/browser/ash/arc/policy",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/test:arc_test_support",
    "//chrome/browser/ash/arc/tracing",
    "//chrome/browser/ash/arc/tracing/test:test_support",
    "//chrome/browser/ash/attestation",
    "//chrome/browser/ash/attestation:attestation_proto",
    "//chrome/browser/ash/attestation:test_support",
    "//chrome/browser/ash/authpolicy",
    "//chrome/browser/ash/borealis:borealis_installer_types_mojom",
    "//chrome/browser/ash/borealis/testing:test_support",
    "//chrome/browser/ash/bruschetta",
    "//chrome/browser/ash/child_accounts",
    "//chrome/browser/ash/child_accounts/on_device_controls",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/crosapi:browser_util",
    "//chrome/browser/ash/crosapi:test_support",
    "//chrome/browser/ash/crostini:crostini_installer_types_mojom",
    "//chrome/browser/ash/crostini:test_support",
    "//chrome/browser/ash/customization",
    "//chrome/browser/ash/device_name:test_support",
    "//chrome/browser/ash/eche_app",
    "//chrome/browser/ash/extended_updates",
    "//chrome/browser/ash/extended_updates/test:test_support",
    "//chrome/browser/ash/extensions/login_screen_ui",
    "//chrome/browser/ash/file_manager",
    "//chrome/browser/ash/file_manager:test_support",
    "//chrome/browser/ash/file_system_provider",
    "//chrome/browser/ash/file_system_provider:test_support",
    "//chrome/browser/ash/fusebox",
    "//chrome/browser/ash/guest_os",
    "//chrome/browser/ash/guest_os:guest_os_diagnostics_mojom",
    "//chrome/browser/ash/guest_os:test_support",
    "//chrome/browser/ash/guest_os/public",
    "//chrome/browser/ash/hats",
    "//chrome/browser/ash/input_device_settings",
    "//chrome/browser/ash/input_method",
    "//chrome/browser/ash/kerberos",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login/demo_mode:test_support",
    "//chrome/browser/ash/login/lock/online_reauth",
    "//chrome/browser/ash/login/saml:test_support",
    "//chrome/browser/ash/login/ui:test_support",
    "//chrome/browser/ash/multidevice_setup",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/net:test_support",
    "//chrome/browser/ash/net/network_diagnostics",
    "//chrome/browser/ash/net/rollback_network_config",
    "//chrome/browser/ash/net/rollback_network_config:test_support",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/ownership",
    "//chrome/browser/ash/phonehub",
    "//chrome/browser/ash/platform_keys/key_permissions",
    "//chrome/browser/ash/platform_keys/key_permissions:test_support",
    "//chrome/browser/ash/plugin_vm",
    "//chrome/browser/ash/plugin_vm:test_support",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/core:test_support",
    "//chrome/browser/ash/policy/dlp",
    "//chrome/browser/ash/policy/dlp/dialogs",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/enrollment:test_support",
    "//chrome/browser/ash/policy/invalidation:test_support",
    "//chrome/browser/ash/power/ml:user_activity_ukm_logger_helpers",
    "//chrome/browser/ash/power/ml/smart_dim",
    "//chrome/browser/ash/printing",
    "//chrome/browser/ash/printing:test_support",
    "//chrome/browser/ash/printing/enterprise",
    "//chrome/browser/ash/printing/enterprise:managed_printer_proto",
    "//chrome/browser/ash/printing/history",
    "//chrome/browser/ash/printing/history:print_job_info_proto",
    "//chrome/browser/ash/printing/oauth2",
    "//chrome/browser/ash/printing/oauth2:test_support",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/release_notes",
    "//chrome/browser/ash/scanning:unit_tests",
    "//chrome/browser/ash/shimless_rma",
    "//chrome/browser/ash/sync",
    "//chrome/browser/ash/system_logs",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ash/system_web_apps/types",
    "//chrome/browser/ash/usb",
    "//chrome/browser/ash/wallpaper_handlers",
    "//chrome/browser/ash/wallpaper_handlers:test_support",
    "//chrome/browser/chromeos",
    "//chrome/browser/chromeos:test_support",
    "//chrome/browser/chromeos/drivefs",
    "//chrome/browser/chromeos/launcher_search:search_util",
    "//chrome/browser/enterprise/connectors/test:test_support",
    "//chrome/browser/enterprise/data_controls:test_support",
    "//chrome/browser/extensions",
    "//chrome/browser/extensions:test_support",
    "//chrome/browser/image_decoder",
    "//chrome/browser/media/router:media_router_feature",
    "//chrome/browser/nearby_sharing/common",
    "//chrome/browser/policy:onc",
    "//chrome/browser/policy:test_support",
    "//chrome/browser/policy/messaging_layer/proto:crd_event_proto",
    "//chrome/browser/policy/messaging_layer/proto:log_upload_event_proto",
    "//chrome/browser/screen_ai:screen_ai_install_state",
    "//chrome/browser/screen_ai/public:optical_character_recognizer",
    "//chrome/browser/search_engines",
    "//chrome/browser/sync",
    "//chrome/browser/ui",
    "//chrome/browser/ui:test_support",
    "//chrome/browser/ui/ash/holding_space:test_support",
    "//chrome/browser/ui/ash/keyboard:ash_test_support",
    "//chrome/browser/ui/ash/multi_user",
    "//chrome/browser/ui/webui/ash/settings/pages/apps/mojom",
    "//chrome/browser/ui/webui/ash/settings/pages/device/input_device_settings:mojom",
    "//chrome/browser/ui/webui/ash/settings/pages/privacy/mojom",
    "//chrome/browser/ui/webui/ash/settings/search/mojom",
    "//chrome/browser/web_applications",
    "//chrome/browser/web_applications:web_applications_test_support",
    "//chrome/browser/web_applications/mojom:mojom_web_apps_enum",
    "//chrome/common",
    "//chrome/common:channel_info",
    "//chrome/common:chrome_features",
    "//chrome/common:constants",
    "//chrome/common:non_code_constants",
    "//chrome/common/extensions/api",
    "//chrome/test:sync_integration_test_support",
    "//chrome/test:test_support",
    "//chrome/test:test_support_ui",
    "//chrome/test:test_support_unit",
    "//chromeos:test_utils",
    "//chromeos/ash/components/account_manager",
    "//chromeos/ash/components/attestation:test_support",
    "//chromeos/ash/components/audio",
    "//chromeos/ash/components/borealis",
    "//chromeos/ash/components/browser_context_helper",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus",
    "//chromeos/ash/components/dbus:vm_applications_apps_proto",
    "//chromeos/ash/components/dbus/anomaly_detector",
    "//chromeos/ash/components/dbus/arc",
    "//chromeos/ash/components/dbus/arc:arcvm_data_migrator_proto_lib",
    "//chromeos/ash/components/dbus/attestation",
    "//chromeos/ash/components/dbus/attestation:attestation_proto",
    "//chromeos/ash/components/dbus/audio",
    "//chromeos/ash/components/dbus/biod",
    "//chromeos/ash/components/dbus/chunneld",
    "//chromeos/ash/components/dbus/cicerone",
    "//chromeos/ash/components/dbus/cicerone:cicerone_proto",
    "//chromeos/ash/components/dbus/concierge",
    "//chromeos/ash/components/dbus/concierge:concierge_proto",
    "//chromeos/ash/components/dbus/constants",
    "//chromeos/ash/components/dbus/cros_disks",
    "//chromeos/ash/components/dbus/cryptohome",
    "//chromeos/ash/components/dbus/cryptohome:attestation_proto",
    "//chromeos/ash/components/dbus/cryptohome:cryptohome_proto",
    "//chromeos/ash/components/dbus/debug_daemon",
    "//chromeos/ash/components/dbus/dlcservice",
    "//chromeos/ash/components/dbus/dlcservice:dlcservice_proto",
    "//chromeos/ash/components/dbus/federated",
    "//chromeos/ash/components/dbus/gnubby",
    "//chromeos/ash/components/dbus/hermes",
    "//chromeos/ash/components/dbus/kerberos",
    "//chromeos/ash/components/dbus/lorgnette_manager",
    "//chromeos/ash/components/dbus/lorgnette_manager:lorgnette_proto",
    "//chromeos/ash/components/dbus/oobe_config",
    "//chromeos/ash/components/dbus/pciguard",
    "//chromeos/ash/components/dbus/printscanmgr",
    "//chromeos/ash/components/dbus/resourced",
    "//chromeos/ash/components/dbus/seneschal",
    "//chromeos/ash/components/dbus/seneschal:seneschal_proto",
    "//chromeos/ash/components/dbus/services:test_support",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/dbus/shill",
    "//chromeos/ash/components/dbus/smbprovider",
    "//chromeos/ash/components/dbus/smbprovider:proto",
    "//chromeos/ash/components/dbus/spaced",
    "//chromeos/ash/components/dbus/system_clock",
    "//chromeos/ash/components/dbus/system_proxy",
    "//chromeos/ash/components/dbus/system_proxy:system_proxy_proto",
    "//chromeos/ash/components/dbus/update_engine",
    "//chromeos/ash/components/dbus/upstart",
    "//chromeos/ash/components/dbus/userdataauth",
    "//chromeos/ash/components/dbus/virtual_file_provider",
    "//chromeos/ash/components/dbus/vm_plugin_dispatcher",
    "//chromeos/ash/components/disks",
    "//chromeos/ash/components/disks:test_support",
    "//chromeos/ash/components/drivefs/mojom",
    "//chromeos/ash/components/drivefs/mojom:mojom_shared",
    "//chromeos/ash/components/drivefs/mojom:pinning_manager_types",
    "//chromeos/ash/components/feature_usage",
    "//chromeos/ash/components/install_attributes",
    "//chromeos/ash/components/install_attributes:test_support",
    "//chromeos/ash/components/kiosk/vision:vision",
    "//chromeos/ash/components/launcher_search",
    "//chromeos/ash/components/local_search_service",
    "//chromeos/ash/components/local_search_service/public/cpp",
    "//chromeos/ash/components/local_search_service/public/mojom",
    "//chromeos/ash/components/login/auth",
    "//chromeos/ash/components/login/auth/public:authpublic",
    "//chromeos/ash/components/login/login_state",
    "//chromeos/ash/components/login/login_state:test_support",
    "//chromeos/ash/components/login/session",
    "//chromeos/ash/components/mojo_service_manager:test_support",
    "//chromeos/ash/components/network",
    "//chromeos/ash/components/network:test_support",
    "//chromeos/ash/components/network/portal_detector",
    "//chromeos/ash/components/network/portal_detector:test_support",
    "//chromeos/ash/components/peripheral_notification",
    "//chromeos/ash/components/phonehub",
    "//chromeos/ash/components/phonehub:debug",
    "//chromeos/ash/components/phonehub:test_support",
    "//chromeos/ash/components/phonehub/proto",
    "//chromeos/ash/components/policy",
    "//chromeos/ash/components/proximity_auth",
    "//chromeos/ash/components/proximity_auth:test_support",
    "//chromeos/ash/components/report:fresnel_service_proto",
    "//chromeos/ash/components/scanning",
    "//chromeos/ash/components/settings",
    "//chromeos/ash/components/smbfs",
    "//chromeos/ash/components/standalone_browser:standalone_browser",
    "//chromeos/ash/components/string_matching",
    "//chromeos/ash/components/sync_wifi:test_support",
    "//chromeos/ash/components/system",
    "//chromeos/ash/components/system_info",
    "//chromeos/ash/components/tether",
    "//chromeos/ash/components/tether:test_support",
    "//chromeos/ash/components/tpm",
    "//chromeos/ash/components/trash_service",
    "//chromeos/ash/components/trash_service/public/cpp",
    "//chromeos/ash/components/trash_service/public/mojom",
    "//chromeos/ash/components/wifi_p2p",
    "//chromeos/ash/resources",
    "//chromeos/ash/services/cros_healthd/public/cpp:test_support",
    "//chromeos/ash/services/cros_healthd/public/mojom",
    "//chromeos/ash/services/cros_healthd/public/mojom:mojom_shared",
    "//chromeos/ash/services/device_sync",
    "//chromeos/ash/services/device_sync:test_support",
    "//chromeos/ash/services/device_sync/public/cpp:test_support",
    "//chromeos/ash/services/federated/public/cpp:cpp",
    "//chromeos/ash/services/federated/public/cpp:test_support",
    "//chromeos/ash/services/ime/public/cpp:structs",
    "//chromeos/ash/services/ime/public/mojom",
    "//chromeos/ash/services/multidevice_setup/public/cpp:prefs",
    "//chromeos/ash/services/nearby/public/cpp:test_support",
    "//chromeos/ash/services/network_config",
    "//chromeos/ash/services/network_config:in_process_instance",
    "//chromeos/ash/services/network_config/public/cpp:test_support",
    "//chromeos/ash/services/secure_channel/public/cpp/client:test_support",
    "//chromeos/components/disks:prefs",
    "//chromeos/components/kcer",
    "//chromeos/components/kcer:test_support",
    "//chromeos/components/kiosk:test_support",
    "//chromeos/components/onc",
    "//chromeos/components/onc:test_support",
    "//chromeos/components/print_management/mojom",
    "//chromeos/components/sensors",
    "//chromeos/components/sensors:test_support",
    "//chromeos/constants",
    "//chromeos/crosapi/mojom",
    "//chromeos/dbus/constants",
    "//chromeos/dbus/dlp",
    "//chromeos/dbus/dlp:dlp_proto",
    "//chromeos/dbus/machine_learning",
    "//chromeos/dbus/missive",
    "//chromeos/dbus/missive:history_tracker",
    "//chromeos/dbus/permission_broker",
    "//chromeos/dbus/power:power_manager_proto",
    "//chromeos/dbus/regmon",
    "//chromeos/dbus/regmon:regmon_proto",
    "//chromeos/dbus/tpm_manager",
    "//chromeos/printing",
    "//chromeos/services/machine_learning/public/cpp",
    "//chromeos/services/machine_learning/public/cpp:stub",
    "//chromeos/services/machine_learning/public/mojom",
    "//chromeos/services/network_config/public/cpp",
    "//chromeos/services/network_config/public/cpp:test_support",
    "//chromeos/services/network_config/public/mojom",
    "//chromeos/services/network_health/public/mojom",
    "//chromeos/strings",
    "//chromeos/ui/base",
    "//chromeos/ui/frame:test_support",
    "//chromeos/ui/vector_icons",
    "//components/account_id",
    "//components/account_manager_core",
    "//components/account_manager_core:test_support",
    "//components/app_constants",
    "//components/app_restore",
    "//components/arc:arc_test_support",
    "//components/assist_ranker/proto",
    "//components/autofill/core/browser",
    "//components/autofill/core/browser:test_support",
    "//components/bookmarks/browser",
    "//components/bookmarks/test",
    "//components/captive_portal/core",
    "//components/captive_portal/core:test_support",
    "//components/component_updater",
    "//components/component_updater:test_support",
    "//components/component_updater/ash:test_support",
    "//components/consent_auditor:test_support",
    "//components/content_settings/core/browser",
    "//components/content_settings/core/common",
    "//components/crash/core/common:crash_key",
    "//components/crx_file",
    "//components/download/content/public",
    "//components/download/public/background_service/test:test_support",
    "//components/download/public/common:test_support",
    "//components/drive",
    "//components/drive:test_support",
    "//components/enterprise",
    "//components/enterprise/data_controls/core:dlp_policy_event_proto",
    "//components/exo",
    "//components/exo:test_support",
    "//components/exo/server",
    "//components/exo/wayland:test_support",
    "//components/favicon/core",
    "//components/favicon/core/test:test_support",
    "//components/favicon_base",
    "//components/feature_engagement/public",
    "//components/feedback",
    "//components/feedback/proto",
    "//components/file_access",
    "//components/flags_ui",
    "//components/gcm_driver:test_support",
    "//components/gcm_driver/common",
    "//components/history/core/browser",
    "//components/history/core/test",
    "//components/image_fetcher/core",
    "//components/invalidation/impl",
    "//components/invalidation/impl:test_support",
    "//components/invalidation/public",
    "//components/keyed_service/content",
    "//components/keyed_service/core",
    "//components/language/core/browser",
    "//components/leveldb_proto",
    "//components/leveldb_proto:test_support",
    "//components/live_caption:constants",
    "//components/manta",
    "//components/metrics",
    "//components/metrics:serialization",
    "//components/metrics:test_support",
    "//components/metrics/structured",
    "//components/metrics/structured:structured_events",
    "//components/metrics/structured:test_support",
    "//components/omnibox/browser",
    "//components/omnibox/browser:location_bar",
    "//components/omnibox/browser:test_support",
    "//components/omnibox/browser:vector_icons",
    "//components/onc",
    "//components/ownership",
    "//components/policy:generated",
    "//components/policy:policy_code_generate",
    "//components/policy/core/browser",
    "//components/policy/core/browser:test_support",
    "//components/policy/core/common",
    "//components/policy/core/common:common_constants",
    "//components/policy/core/common:policy_namespace",
    "//components/policy/core/common:test_support",
    "//components/policy/proto",
    "//components/proxy_config",
    "//components/qr_code_generator:bitmap_generator",
    "//components/reporting/client:report_queue",
    "//components/reporting/client:report_queue_configuration",
    "//components/reporting/client:test_support",
    "//components/reporting/metrics:metrics_data_collection",
    "//components/reporting/metrics/fakes:test_support",
    "//components/reporting/proto:health_proto",
    "//components/reporting/proto:interface_proto",
    "//components/reporting/proto:metric_data_proto",
    "//components/reporting/proto:record_constants",
    "//components/reporting/storage:test_support",
    "//components/reporting/util:rate_limiter_interface",
    "//components/reporting/util:rate_limiter_slide_window",
    "//components/reporting/util:status",
    "//components/reporting/util:test_callbacks_support",
    "//components/safe_browsing/core/common:safe_browsing_prefs",
    "//components/search_engines",
    "//components/services/app_service",
    "//components/services/app_service/public/cpp:test_support",
    "//components/services/app_service/public/protos",
    "//components/services/filesystem/public/mojom",
    "//components/session_manager:base",
    "//components/sessions:test_support",
    "//components/signin/public/base",
    "//components/signin/public/identity_manager",
    "//components/signin/public/identity_manager:test_support",
    "//components/site_engagement/content",
    "//components/spellcheck/browser",
    "//components/spellcheck/common:spellcheck_result",
    "//components/storage_monitor",
    "//components/strings:components_strings",
    "//components/sync:test_support",
    "//components/sync/base",
    "//components/sync/chromeos",
    "//components/sync/engine",
    "//components/sync/model",
    "//components/sync/protocol",
    "//components/sync/protocol:util",
    "//components/sync/service",
    "//components/sync_preferences",
    "//components/sync_preferences:test_support",
    "//components/sync_sessions",
    "//components/ukm:test_support",
    "//components/ukm/content",
    "//components/user_prefs",
    "//components/variations",
    "//components/variations:test_support",
    "//components/version_info",
    "//components/webapps/browser",
    "//components/webapps/common",
    "//content/public/browser",
    "//content/public/common",
    "//content/test:test_support",
    "//crypto",
    "//crypto:test_support",
    "//dbus",
    "//device/bluetooth:mocks",
    "//device/udev_linux:test_support",
    "//extensions:test_support",
    "//extensions/browser",
    "//extensions/browser/api/automation_internal",
    "//extensions/browser/api/lock_screen_data",
    "//extensions/browser/api/messaging:native_messaging",
    "//extensions/browser/updater",
    "//extensions/browser/updater:test_support",
    "//extensions/common",
    "//extensions/common:common_constants",
    "//extensions/common:mojom",
    "//extensions/common:mojom_shared",
    "//extensions/common/api",
    "//google_apis",
    "//google_apis:test_support",
    "//google_apis/common",
    "//google_apis/drive",
    "//gpu/config",
    "//media:test_support",
    "//media/capture/video/chromeos/mojom:cros_camera",
    "//mojo/public/cpp/base",
    "//mojo/public/cpp/bindings",
    "//mojo/public/cpp/system",
    "//mojo/public/cpp/test_support:test_utils",
    "//net",
    "//net:test_support",
    "//net/traffic_annotation",
    "//net/traffic_annotation:test_support",
    "//printing/mojom",
    "//remoting/host/chromeos:features",
    "//remoting/host/chromeos:host_event_reporter_impl",
    "//remoting/host/mojom",
    "//services/accessibility/android:tests",
    "//services/audio/public/cpp",
    "//services/audio/public/cpp:test_support",
    "//services/cert_verifier/public/mojom",
    "//services/device/public/cpp:test_support",
    "//services/device/public/mojom",
    "//services/device/public/mojom:usb",
    "//services/metrics/public/cpp:gen_ukm_builders",
    "//services/metrics/public/cpp:metrics_cpp",
    "//services/network:network_service",
    "//services/network:test_support",
    "//services/network/public/cpp",
    "//services/network/public/cpp:cpp_base",
    "//services/network/public/mojom",
    "//services/network/public/mojom:cookies_mojom",
    "//services/network/public/mojom:url_loader_base",
    "//services/network/public/mojom:url_loader_base_shared",
    "//services/video_capture/public/mojom",
    "//skia",
    "//storage/browser",
    "//storage/browser:test_support",
    "//storage/common",
    "//testing/gmock",
    "//testing/gtest",
    "//third_party/abseil-cpp:absl",
    "//third_party/blink/public/common:headers",
    "//third_party/blink/public/mojom:mojom_core",
    "//third_party/blink/public/mojom:mojom_platform",
    "//third_party/icu",
    "//third_party/libipp",
    "//third_party/metrics_proto",
    "//third_party/private_membership:private_membership_proto",
    "//third_party/protobuf:protobuf_lite",
    "//third_party/securemessage/proto",
    "//third_party/shell-encryption:shell_encryption_test_library",
    "//third_party/zlib/google:compression_utils",
    "//ui/accessibility",
    "//ui/accessibility:ax_base",
    "//ui/accessibility:ax_enums_mojo",
    "//ui/aura",
    "//ui/aura:test_support",
    "//ui/base",
    "//ui/base:features",
    "//ui/base:test_support",
    "//ui/base:types",
    "//ui/base/data_transfer_policy",
    "//ui/base/idle:test_support",
    "//ui/base/ime",
    "//ui/base/ime:ime_types",
    "//ui/base/ime:text_input_types",
    "//ui/base/ime/ash",
    "//ui/base/ime/init",
    "//ui/chromeos",
    "//ui/chromeos/strings",
    "//ui/compositor",
    "//ui/display",
    "//ui/display:display_manager_test_api",
    "//ui/display:test_support",
    "//ui/display/manager",
    "//ui/display/types",
    "//ui/display/util",
    "//ui/events",
    "//ui/events:dom_keycode_converter",
    "//ui/events:event_constants",
    "//ui/events:events_base",
    "//ui/events:platform_event",
    "//ui/events:test_support",
    "//ui/events/ash",
    "//ui/events/devices",
    "//ui/events/devices:test_support",
    "//ui/events/ozone/evdev:event_device_info",
    "//ui/events/ozone/evdev:event_device_info_test_utils",
    "//ui/events/platform",
    "//ui/events/types:headers",
    "//ui/gfx",
    "//ui/gfx:gfx_skia",
    "//ui/gfx:native_widget_types",
    "//ui/gfx:test_support",
    "//ui/gfx/codec",
    "//ui/gfx/geometry",
    "//ui/gfx/geometry:geometry_skia",
    "//ui/gfx/range",
    "//ui/message_center",
    "//ui/message_center:test_support",
    "//ui/message_center/public/cpp",
    "//ui/shell_dialogs",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/views/controls/webview",
    "//ui/wm",
    "//ui/wm/public",
    "//url",

    # Gather unit tests from subdirectories.
    "//chrome/browser/ash/accessibility:unit_tests",
    "//chrome/browser/ash/account_manager:unit_tests",
    "//chrome/browser/ash/android_sms:unit_tests",
    "//chrome/browser/ash/app_list:unit_tests",
    "//chrome/browser/ash/app_mode:unit_tests",
    "//chrome/browser/ash/app_restore:unit_tests",
    "//chrome/browser/ash/apps:unit_tests",
    "//chrome/browser/ash/arc:unit_tests",
    "//chrome/browser/ash/assistant:unit_tests",
    "//chrome/browser/ash/attestation:unit_tests",
    "//chrome/browser/ash/bluetooth:unit_tests",
    "//chrome/browser/ash/borealis:unit_tests",
    "//chrome/browser/ash/bruschetta:unit_tests",
    "//chrome/browser/ash/camera:unit_tests",
    "//chrome/browser/ash/camera_mic:unit_tests",
    "//chrome/browser/ash/cert_provisioning:unit_tests",
    "//chrome/browser/ash/child_accounts:unit_tests",
    "//chrome/browser/ash/crosapi:unit_tests",
    "//chrome/browser/ash/crostini:unit_tests",
    "//chrome/browser/ash/cryptauth:unit_tests",
    "//chrome/browser/ash/customization:unit_tests",
    "//chrome/browser/ash/device_name:unit_tests",
    "//chrome/browser/ash/diagnostics:unit_tests",
    "//chrome/browser/ash/drive:unit_tests",
    "//chrome/browser/ash/eche_app:unit_tests",
    "//chrome/browser/ash/events:unit_tests",
    "//chrome/browser/ash/exo:unit_tests",
    "//chrome/browser/ash/extended_updates:unit_tests",
    "//chrome/browser/ash/extensions:unit_tests",
    "//chrome/browser/ash/extensions/file_manager:unit_tests",
    "//chrome/browser/ash/extensions/login_screen_ui:unit_tests",
    "//chrome/browser/ash/file_manager:unit_tests",
    "//chrome/browser/ash/file_suggest:unit_tests",
    "//chrome/browser/ash/file_system_provider:unit_tests",
    "//chrome/browser/ash/fileapi:unit_tests",
    "//chrome/browser/ash/floating_sso:unit_tests",
    "//chrome/browser/ash/floating_workspace:unit_tests",
    "//chrome/browser/ash/fusebox:unit_tests",
    "//chrome/browser/ash/game_mode:unit_tests",
    "//chrome/browser/ash/growth:unit_tests",
    "//chrome/browser/ash/guest_os:unit_tests",
    "//chrome/browser/ash/hats:unit_tests",
    "//chrome/browser/ash/input_method:unit_tests",
    "//chrome/browser/ash/kcer/nssdb_migration:unit_tests",
    "//chrome/browser/ash/kerberos:unit_tests",
    "//chrome/browser/ash/language_packs:unit_tests",
    "//chrome/browser/ash/lock_screen_apps:unit_tests",
    "//chrome/browser/ash/login:unit_tests",
    "//chrome/browser/ash/magic_boost:unit_tests",
    "//chrome/browser/ash/mahi:unit_tests",
    "//chrome/browser/ash/mall:unit_tests",
    "//chrome/browser/ash/mobile:unit_tests",
    "//chrome/browser/ash/nearby:unit_tests",
    "//chrome/browser/ash/net:unit_tests",
    "//chrome/browser/ash/notifications:unit_tests",
    "//chrome/browser/ash/os_feedback:unit_tests",
    "//chrome/browser/ash/ownership:unit_tests",
    "//chrome/browser/ash/pcie_peripheral:unit_tests",
    "//chrome/browser/ash/phonehub:unit_tests",
    "//chrome/browser/ash/platform_keys:unit_tests",
    "//chrome/browser/ash/plugin_vm:unit_tests",
    "//chrome/browser/ash/policy/core:unit_tests",
    "//chrome/browser/ash/policy/dlp:unit_tests",
    "//chrome/browser/ash/policy/enrollment:unit_tests",
    "//chrome/browser/ash/policy/enrollment/psm:unit_tests",
    "//chrome/browser/ash/policy/external_data:unit_tests",
    "//chrome/browser/ash/policy/external_data/handlers:unit_tests",
    "//chrome/browser/ash/policy/handlers:unit_tests",
    "//chrome/browser/ash/policy/invalidation:unit_tests",
    "//chrome/browser/ash/policy/remote_commands:unit_tests",
    "//chrome/browser/ash/policy/remote_commands/crd:unit_tests",
    "//chrome/browser/ash/policy/reporting:unit_tests",
    "//chrome/browser/ash/policy/reporting/event_based_logs:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/apps:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/audio:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/device_activity:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/fatal_crash:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_heartbeat:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_vision:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/network:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/usb:unit_tests",
    "//chrome/browser/ash/policy/reporting/os_updates:unit_tests",
    "//chrome/browser/ash/policy/reporting/user_added_removed:unit_tests",
    "//chrome/browser/ash/policy/scheduled_task_handler/test:unit_tests",
    "//chrome/browser/ash/power:unit_tests",
    "//chrome/browser/ash/power/auto_screen_brightness:unit_tests",
    "//chrome/browser/ash/power/ml:unit_tests",
    "//chrome/browser/ash/power/ml/smart_dim:unit_tests",
    "//chrome/browser/ash/power/smart_charging:unit_tests",
    "//chrome/browser/ash/printing:unit_tests",
    "//chrome/browser/ash/printing/enterprise:unit_tests",
    "//chrome/browser/ash/printing/history:unit_tests",
    "//chrome/browser/ash/printing/oauth2:unit_tests",
    "//chrome/browser/ash/printing/print_management:unit_tests",
    "//chrome/browser/ash/printing/print_preview:unit_tests",
    "//chrome/browser/ash/release_notes:unit_tests",
    "//chrome/browser/ash/remote_apps:unit_tests",
    "//chrome/browser/ash/secure_channel:unit_tests",
    "//chrome/browser/ash/sharesheet:unit_tests",
    "//chrome/browser/ash/shimless_rma:unit_tests",
    "//chrome/browser/ash/smb_client:unit_tests",
    "//chrome/browser/ash/sparky:unit_tests",
    "//chrome/browser/ash/sync:unit_tests",
    "//chrome/browser/ash/system:unit_tests",
    "//chrome/browser/ash/system_logs:unit_tests",
    "//chrome/browser/ash/system_web_apps:unit_tests",
    "//chrome/browser/ash/tether:unit_tests",
    "//chrome/browser/ash/trusted_vault:unit_tests",
    "//chrome/browser/ash/usb:unit_tests",
    "//chrome/browser/ash/video_conference:unit_tests",
    "//chrome/browser/ash/wallpaper_handlers:unit_tests",
  ]

  if (is_cfm) {
    deps += [ "//chrome/browser/ash/chromebox_for_meetings:unit_tests" ]
  }

  data = [
    "//chromeos/test/data/",

    # Needed by os_settings_manager_unittest.cc.
    "//tools/metrics/histograms/metadata/chromeos_settings/enums.xml",
  ]
}

source_set("browser_tests") {
  testonly = true

  defines = [ "HAS_OUT_OF_PROC_TEST_RUNNER" ]

  sources = [
    "logging_browsertest.cc",
    "network_change_manager_client_browsertest.cc",
    "note_taking_helper_browsertest.cc",
    "os_url_handler_browsertest.cc",
    "preferences_browsertest.cc",
    "shutdown_policy_browsertest.cc",
    "startup_settings_cache_browsertest.cc",
    "url_handler_browsertest.cc",
    "wmp_browsertest.cc",
  ]

  deps = [
    ":ash",
    ":test_support",
    "//ash/constants",
    "//ash/public/cpp",
    "//base",
    "//base/test:test_support",
    "//chrome/browser/ash/app_restore",
    "//chrome/browser/ash/input_method",
    "//chrome/browser/ash/login:test_support",
    "//chrome/browser/ash/login/lock",
    "//chrome/browser/ash/login/lock:test_support",
    "//chrome/browser/ash/login/saml:test_support",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/test:test_support",
    "//chrome/browser/ash/login/ui",
    "//chrome/browser/ash/policy/core:test_support",
    "//chrome/browser/ash/system_web_apps/apps",
    "//chrome/browser/ash/system_web_apps/test_support:test_support_ui",
    "//chrome/browser/ui",
    "//chrome/browser/web_applications:web_applications_test_support",
    "//chrome/common",
    "//chrome/test:test_support",
    "//chromeos/ash/components/dbus/shill",
    "//components/account_id",
    "//components/language/core/browser",
    "//components/session_manager/core",
    "//content/public/browser",
    "//content/public/common",
    "//content/test:test_support",
    "//mojo/public/cpp/bindings",
    "//net",
    "//services/network/public/mojom",
    "//testing/gtest",
    "//ui/events:test_support",
    "//url",

    # Gather browser tests from subdirectories.
    "//chrome/browser/ash/accessibility:browser_tests",
    "//chrome/browser/ash/account_manager:browser_tests",
    "//chrome/browser/ash/annotator:browser_tests",
    "//chrome/browser/ash/app_list:browser_tests",
    "//chrome/browser/ash/app_list/app_service:browser_tests",
    "//chrome/browser/ash/app_list/arc:browser_tests",
    "//chrome/browser/ash/app_list/search:browser_tests",
    "//chrome/browser/ash/app_list/search/files:browser_tests",
    "//chrome/browser/ash/app_mode:browser_tests",
    "//chrome/browser/ash/app_restore:browser_tests",
    "//chrome/browser/ash/apps:browser_tests",
    "//chrome/browser/ash/arc:browser_tests",
    "//chrome/browser/ash/base:browser_tests",
    "//chrome/browser/ash/bluetooth:browser_tests",
    "//chrome/browser/ash/bruschetta:browser_tests",
    "//chrome/browser/ash/child_accounts:browser_tests",
    "//chrome/browser/ash/crosapi:browser_tests",
    "//chrome/browser/ash/crostini:browser_tests",
    "//chrome/browser/ash/customization:browser_tests",
    "//chrome/browser/ash/dbus:browser_tests",
    "//chrome/browser/ash/display:browser_tests",
    "//chrome/browser/ash/eche_app:browser_tests",
    "//chrome/browser/ash/extensions:browser_tests",
    "//chrome/browser/ash/extensions/autotest_private:browser_tests",
    "//chrome/browser/ash/extensions/file_manager:browser_tests",
    "//chrome/browser/ash/extensions/login_screen_ui:browser_tests",
    "//chrome/browser/ash/extensions/speech:browser_tests",
    "//chrome/browser/ash/extensions/users_private:browser_tests",
    "//chrome/browser/ash/file_manager:browser_tests",
    "//chrome/browser/ash/file_suggest:browser_tests",
    "//chrome/browser/ash/file_system_provider:browser_tests",
    "//chrome/browser/ash/first_party_sets:browser_tests",
    "//chrome/browser/ash/floating_sso:browser_tests",
    "//chrome/browser/ash/geolocation:browser_tests",
    "//chrome/browser/ash/guest_os:browser_tests",
    "//chrome/browser/ash/input_method:browser_tests",
    "//chrome/browser/ash/kcer:browser_tests",
    "//chrome/browser/ash/kerberos:browser_tests",
    "//chrome/browser/ash/lock_screen_apps:browser_tests",
    "//chrome/browser/ash/login:browser_tests",
    "//chrome/browser/ash/magic_boost:browser_tests",
    "//chrome/browser/ash/mahi:browser_tests",
    "//chrome/browser/ash/net:browser_tests",
    "//chrome/browser/ash/os_feedback:browser_tests",
    "//chrome/browser/ash/platform_keys:browser_tests",
    "//chrome/browser/ash/printing/print_management:browser_tests",
    "//chrome/browser/ash/privacy_hub:browser_tests",
    "//chrome/browser/ash/remote_apps:browser_tests",
    "//chrome/browser/ash/scalable_iph:browser_tests",
    "//chrome/browser/ash/system:browser_tests",
    "//chrome/browser/ash/system_logs:browser_tests",
    "//chrome/browser/ash/system_web_apps:browser_tests",
    "//chrome/browser/ash/video_conference:browser_tests",
    "//chrome/browser/ash/wallpaper:browser_tests",
  ]

  if (enable_extensions) {
    sources += [ "eol_notification_browsertest.cc" ]
  }
}

if (is_chromeos_device) {
  source_set("integration_tests") {
    testonly = true

    defines = [ "HAS_OUT_OF_PROC_TEST_RUNNER" ]

    sources = [
      "child_accounts/web_approvals_integration_test.cc",
      "external_metrics_integration_test.cc",
      "featured_integration_test.cc",
      "ml_integration_test.cc",
      "screenshot_integration_test.cc",
      "security_files_integration_test.cc",
      "web_handwriting_integration_test.cc",
    ]

    if (is_chrome_branded) {
      sources += [ "arc/arc_integration_test.cc" ]
    }

    deps = [
      "//chrome/browser/ash:test_support",
      "//chrome/test:ash_integration_test_support",
      "//chrome/test/base/ash/interactive:test_support",
      "//chrome/test/base/chromeos/crosier:proto",
      "//chrome/test/base/chromeos/crosier/helper:common",
      "//chromeos/services/machine_learning/public/cpp",

      # Gather tests from subdirectories:
      "//chrome/browser/ash/accessibility:integration_tests",
      "//chrome/browser/ash/assistant:integration_tests",
      "//chrome/browser/ash/bluetooth:integration_tests",
      "//chrome/browser/ash/login:integration_tests",
      "//chrome/browser/ash/power/ml/smart_dim:integration_tests",
      "//chrome/browser/ash/scanning:integration_tests",
      "//chrome/browser/ash/system_web_apps:integration_tests",
    ]
  }
} else {
  group("interactive_ui_tests") {
    testonly = true

    deps = [
      # Gather tests from subdirectories.
      "//chrome/browser/ash/accessibility/live_caption:interactive_ui_tests",
      "//chrome/browser/ash/app_list:interactive_ui_tests",
      "//chrome/browser/ash/child_accounts:interactive_ui_tests",
      "//chrome/browser/ash/file_manager:interactive_ui_tests",
      "//chrome/browser/ash/growth:interactive_ui_tests",
      "//chrome/browser/ash/os_feedback:interactive_ui_tests",
      "//chrome/browser/ash/printing/print_management:interactive_ui_tests",
    ]
  }
}

proto_library("app_install_events_proto") {
  proto_in_dir = "//"
  sources =
      [ "../policy/messaging_layer/proto/synced/app_install_events.proto" ]
}

proto_library("add_remove_user_event_proto") {
  proto_in_dir = "//"
  sources =
      [ "../policy/messaging_layer/proto/synced/add_remove_user_event.proto" ]
  import_dirs = [ "//components/reporting/proto/synced" ]
  deps = [ "//components/reporting/proto:session_affiliated_user_proto" ]
}

proto_library("login_logout_event_proto") {
  proto_in_dir = "//"
  sources =
      [ "../policy/messaging_layer/proto/synced/login_logout_event.proto" ]
  import_dirs = [ "//components/reporting/proto/synced" ]
  deps = [ "//components/reporting/proto:session_affiliated_user_proto" ]
}

proto_library("lock_unlock_event_proto") {
  proto_in_dir = "//"
  sources = [ "../policy/messaging_layer/proto/synced/lock_unlock_event.proto" ]
  import_dirs = [ "//components/reporting/proto/synced" ]
  deps = [ "//components/reporting/proto:session_affiliated_user_proto" ]
}

proto_library("os_events_proto") {
  proto_in_dir = "//"
  sources = [ "../policy/messaging_layer/proto/synced/os_events.proto" ]
  import_dirs = [ "//components/reporting/proto/synced" ]
  deps = [ "//components/reporting/proto:session_affiliated_user_proto" ]
}

device_policy_remover_path = "$target_gen_dir/device_policy_remover.cc"

action("device_policy_remover_generate") {
  script = "../ash/policy/tools/generate_device_policy_remover.py"
  descriptor_pool_path = "//third_party/protobuf/python"
  symbol_database_path = "$root_out_dir/pyproto"

  # This is provided by //components/policy/proto listed in public_deps.
  # The containing directory is in a separate variable because that's what
  # the script expects as an argument.
  chrome_device_policy_pb2_dir = "$root_out_dir/pyproto/components/policy/proto"
  chrome_device_policy_pb2_path =
      "$chrome_device_policy_pb2_dir/chrome_device_policy_pb2.py"

  sources = [
    # It's important to explicitly list which files provided by this action's
    # dependencies are actually used by this action, because the action is not
    # automatically re-run on changes in one of the public_deps. See
    # https://crbug.com/933359 for more information.
    chrome_device_policy_pb2_path,
  ]

  outputs = [ device_policy_remover_path ]

  args = [
    # generated file name
    rebase_path(device_policy_remover_path, root_build_dir),

    # directories for PATH variable to compile generated file
    rebase_path(descriptor_pool_path, root_build_dir),
    rebase_path(symbol_database_path, root_build_dir),
    rebase_path(chrome_device_policy_pb2_dir, root_build_dir),
  ]

  public_deps = [
    "//components/policy/proto",
    "//third_party/protobuf:py_proto",
  ]
}

static_library("device_policy_remover_generated") {
  sources = [ device_policy_remover_path ]

  public_deps = [ ":device_policy_remover_generate" ]
}

fuzzer_test("zeroconf_printer_detector_fuzzer") {
  sources = [ "printing/zeroconf_printer_detector_fuzzer.cc" ]
  deps = [
    ":ash",
    "//base",
    "//base/test:test_support",
    "//chrome/browser",
    "//chrome/browser/ash/printing",
    "//components/exo/wayland:test_controller_stub",
    "//components/exo/wayland:ui_controls_protocol_stub",
  ]
}

if (use_fuzzing_engine_with_lpm) {
  fuzzer_test("policy_fuzzer") {
    sources = [ "policy/fuzzer/policy_fuzzer.cc" ]

    deps = [
      ":policy_fuzzer_proto",

      # :policy_fuzzer_proto should be the first dependency to avoid duplicate
      # symbols when linking.
      ":ash",
      "//base",
      "//base:i18n",
      "//base/test:test_support",
      "//chrome/browser",
      "//chrome/browser/ash/policy/core",
      "//chrome/common:constants",
      "//chromeos/ash/components/install_attributes",
      "//components/exo/wayland:test_controller_stub",
      "//components/exo/wayland:ui_controls_protocol_stub",
      "//components/policy:generated",
      "//components/policy/core/browser",
      "//components/policy/core/common",
      "//components/policy/core/common:common_constants",
      "//components/prefs",
      "//third_party/libprotobuf-mutator",
      "//ui/base",

      # .pak files loaded by the fuzzer.
      "//components:components_tests_pak",
      "//ui/resources:ui_test_pak",
    ]
  }

  fuzzable_proto_library("policy_fuzzer_proto") {
    sources = [ "policy/fuzzer/policy_fuzzer.proto" ]

    import_dirs = [
      # Add the fuzzable (full-protobuf) .pb.h files into include directories.
      # This item should come first, so that regular (lite-protobuf) .pb.h
      # analogs don't get included, as this would cause compilation issues due
      # to missing symbols.
      "//components/policy/proto/fuzzer",

      # For imports of proto files from the source tree.
      "//components/policy/proto",

      # For imports of autogenerated proto files.
      "$root_gen_dir/components/policy/proto",
    ]

    proto_deps = [ "//components/policy/proto/fuzzer" ]

    link_deps = [ "//components/policy/proto/fuzzer" ]
  }

  fuzzer_test("policy_single_install_event_log_fuzzer") {
    sources = [ "policy/reporting/single_install_event_log_fuzzer.cc" ]

    deps = [
      ":ash",
      "//base",
      "//chrome/browser",
      "//chrome/browser/ash/policy/reporting",
      "//components/exo/wayland:test_controller_stub",
      "//components/exo/wayland:ui_controls_protocol_stub",
    ]
  }

  fuzzer_test("policy_remote_commands_fuzzer") {
    sources = [ "policy/remote_commands/remote_commands_fuzzer.cc" ]

    deps = [
      ":ash",
      "//base",
      "//base:i18n",
      "//chrome/browser",
      "//chrome/browser/ash:test_support",
      "//chrome/browser/ash/policy/remote_commands",
      "//chrome/browser/ash/policy/remote_commands/crd",
      "//chrome/browser/ash/policy/remote_commands/crd:test_support",
      "//components/exo/wayland:test_controller_stub",
      "//components/exo/wayland:ui_controls_protocol_stub",
      "//components/policy/proto",
    ]
  }
}
