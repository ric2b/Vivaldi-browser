!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).didYouMean={})}(this,(function(e){"use strict";const t=[],r=[],n=(e,n)=>{if(e===n)return 0;const s=e;e.length>n.length&&(e=n,n=s);let o=e.length,u=n.length;for(;o>0&&e.charCodeAt(~-o)===n.charCodeAt(~-u);)o--,u--;let c,l,T,a,h=0;for(;h<o&&e.charCodeAt(h)===n.charCodeAt(h);)h++;if(o-=h,u-=h,0===o)return u;let f=0,i=0;for(;f<o;)r[f]=e.charCodeAt(h+f),t[f]=++f;for(;i<u;)for(c=n.charCodeAt(h+i),T=i++,l=i,f=0;f<o;f++)a=c===r[f]?T:T+1,T=t[f],l=t[f]=T>l?a>l?l+1:a:a>T?T+1:a;return l};var s,o,u=n,c=n;u.default=c,(s=e.ReturnTypeEnums||(e.ReturnTypeEnums={})).ALL_CLOSEST_MATCHES="all-closest-matches",s.ALL_MATCHES="all-matches",s.ALL_SORTED_MATCHES="all-sorted-matches",s.FIRST_CLOSEST_MATCH="first-closest-match",s.FIRST_MATCH="first-match",(o=e.ThresholdTypeEnums||(e.ThresholdTypeEnums={})).EDIT_DISTANCE="edit-distance",o.SIMILARITY="similarity";const l=new Error("unknown returnType"),T=new Error("unknown thresholdType");var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),i="object"==typeof a&&a&&commonjsHelpers.commonjsGlobal.Object===Object&&a,d="object"==typeof self&&self&&self.Object===Object&&self,p=i||d||Function("return this")();var E,y=(E={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==E?void 0:E[e]}),S=Object.prototype.toString,A=p.Symbol,m=A?A.prototype:void 0,I=m?m.toString:void 0;function C(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==S.call(e)}(e))return I?I.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var L=function(e){var t;return(e=null==(t=e)?"":C(t))&&e.replace(h,y).replace(f,"")};const R=(e,t)=>{let r=e;return t.trimSpaces&&(r=r.trim().replace(/\s+/g," ")),t.deburr&&(r=L(r)),t.caseSensitive||(r=r.toLowerCase()),r},_=(e,t)=>{const{matchPath:r}=t,n=((e,t)=>{const r=Array.isArray(t)&&t.length?t.reduce((e,t)=>null==e?void 0:e[t],e):e;return"string"!=typeof r?"":r})(e,r);return R(n,t)};e.default=function(t,r,n){const s=(t=>{const r={caseSensitive:!1,deburr:!0,matchPath:[],returnType:e.ReturnTypeEnums.FIRST_CLOSEST_MATCH,thresholdType:e.ThresholdTypeEnums.SIMILARITY,trimSpaces:!0,...t};switch(r.thresholdType){case e.ThresholdTypeEnums.EDIT_DISTANCE:return{threshold:20,...r};case e.ThresholdTypeEnums.SIMILARITY:return{threshold:.4,...r};default:throw T}})(n),{returnType:o,threshold:c,thresholdType:a}=s,h=R(t,s);let f,i;switch(a){case e.ThresholdTypeEnums.EDIT_DISTANCE:f=e=>e<=c,i=e=>u(h,_(e,s));break;case e.ThresholdTypeEnums.SIMILARITY:f=e=>e>=c,i=e=>((e,t)=>{if(!e||!t)return 0;if(e===t)return 1;const r=u(e,t),n=Math.max(e.length,t.length);return(n-r)/n})(h,_(e,s));break;default:throw T}const d=[],p=r.length;switch(o){case e.ReturnTypeEnums.ALL_CLOSEST_MATCHES:case e.ReturnTypeEnums.FIRST_CLOSEST_MATCH:{const t=[];let n;switch(a){case e.ThresholdTypeEnums.EDIT_DISTANCE:n=1/0;for(let e=0;e<p;e+=1){const s=i(r[e]);n>s&&(n=s),t.push(s)}break;case e.ThresholdTypeEnums.SIMILARITY:n=0;for(let e=0;e<p;e+=1){const s=i(r[e]);n<s&&(n=s),t.push(s)}break;default:throw T}const s=t.length;for(let e=0;e<s;e+=1){const r=t[e];f(r)&&r===n&&d.push(e)}break}case e.ReturnTypeEnums.ALL_MATCHES:for(let e=0;e<p;e+=1){f(i(r[e]))&&d.push(e)}break;case e.ReturnTypeEnums.ALL_SORTED_MATCHES:{const t=[];for(let e=0;e<p;e+=1){const n=i(r[e]);f(n)&&t.push({score:n,index:e})}switch(a){case e.ThresholdTypeEnums.EDIT_DISTANCE:t.sort((e,t)=>e.score-t.score);break;case e.ThresholdTypeEnums.SIMILARITY:t.sort((e,t)=>t.score-e.score);break;default:throw T}for(const e of t)d.push(e.index);break}case e.ReturnTypeEnums.FIRST_MATCH:for(let e=0;e<p;e+=1){if(f(i(r[e]))){d.push(e);break}}break;default:throw l}return((t,r,n)=>{switch(n){case e.ReturnTypeEnums.ALL_CLOSEST_MATCHES:case e.ReturnTypeEnums.ALL_MATCHES:case e.ReturnTypeEnums.ALL_SORTED_MATCHES:return r.map(e=>t[e]);case e.ReturnTypeEnums.FIRST_CLOSEST_MATCH:case e.ReturnTypeEnums.FIRST_MATCH:return r.length?t[r[0]]:null;default:return null}})(r,d,o)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
